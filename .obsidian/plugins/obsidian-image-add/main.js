/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __markAsModule = (target) => __defProp(target, "__esModule", { value: true });
var __export = (target, all) => {
  __markAsModule(target);
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __reExport = (target, module2, desc) => {
  if (module2 && typeof module2 === "object" || typeof module2 === "function") {
    for (let key of __getOwnPropNames(module2))
      if (!__hasOwnProp.call(target, key) && key !== "default")
        __defProp(target, key, { get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable });
  }
  return target;
};
var __toModule = (module2) => {
  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, "default", module2 && module2.__esModule && "default" in module2 ? { get: () => module2.default, enumerable: true } : { value: module2, enumerable: true })), module2);
};

// main.ts
__export(exports, {
  default: () => ImageAddPlugin
});
var import_obsidian = __toModule(require("obsidian"));
var DEFAULT_SETTINGS = {
  defaultSize: 200,
  defaultAlignment: "center"
};
var ASSETS_FOLDER = "99 - \u041E\u0431\u0449\u0438\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u044B/99 - \u041E\u0441\u0442\u0430\u043B\u044C\u043D\u043E\u0435/\u0410\u0441\u0441\u0435\u0442\u044B";
var IMAGE_ADD_VIEW_TYPE = "image-add-view";
var ImageAddPlugin = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    this.view = null;
  }
  async onload() {
    await this.loadSettings();
    this.registerView(IMAGE_ADD_VIEW_TYPE, (leaf) => this.view = new ImageAddView(leaf, this));
    this.addRibbonIcon("image", "Image Add", () => {
      this.activateView();
    });
  }
  async activateView() {
    let leaf = this.app.workspace.getLeavesOfType(IMAGE_ADD_VIEW_TYPE)[0];
    if (!leaf) {
      const rightLeaf = this.app.workspace.getRightLeaf(false);
      if (!rightLeaf)
        return;
      leaf = rightLeaf;
      await leaf.setViewState({
        type: IMAGE_ADD_VIEW_TYPE,
        active: true
      });
    }
    this.app.workspace.revealLeaf(leaf);
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var ImageAddView = class extends import_obsidian.ItemView {
  constructor(leaf, plugin) {
    super(leaf);
    this.selectedFile = null;
    this.selectedImage = "";
    this.selectedSize = 200;
    this.selectedAlignment = "center";
    this.fileNameInput = null;
    this.extSpan = null;
    this.saveButton = null;
    this.allowedExt = "";
    this.lastEditor = null;
    this.lastCursor = null;
    this.plugin = plugin;
  }
  getViewType() {
    return IMAGE_ADD_VIEW_TYPE;
  }
  getDisplayText() {
    return "Image Add";
  }
  async onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.addClass("image-add-modal");
    contentEl.createEl("h2", { text: "\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435" });
    const activeView = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
    if (activeView) {
      this.lastEditor = activeView.editor;
      this.lastCursor = activeView.editor.getCursor();
    }
    const selectButton = contentEl.createEl("button", {
      text: "\u0412\u044B\u0431\u0440\u0430\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435",
      cls: "mod-cta"
    });
    selectButton.addEventListener("click", async () => {
      const input = document.createElement("input");
      input.type = "file";
      input.accept = ".jpg,.jpeg,.png";
      input.onchange = async (e) => {
        var _a, _b;
        const file = (_a = e.target.files) == null ? void 0 : _a[0];
        if (!file)
          return;
        const ext = (_b = file.name.split(".").pop()) == null ? void 0 : _b.toLowerCase();
        if (ext !== "jpg" && ext !== "jpeg" && ext !== "png") {
          new import_obsidian.Notice("\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u044B \u0442\u043E\u043B\u044C\u043A\u043E \u0444\u0430\u0439\u043B\u044B .jpg \u0438 .png");
          this.selectedFile = null;
          this.allowedExt = "";
          this.updateFileNameInput();
          this.updateSaveButton();
          return;
        }
        this.selectedFile = file;
        this.allowedExt = ext === "jpeg" ? "jpg" : ext;
        this.selectedImage = file.name.substring(0, file.name.lastIndexOf("."));
        this.updateFileNameInput();
        this.updateSaveButton();
        const activeView2 = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
        if (activeView2) {
          this.lastEditor = activeView2.editor;
          this.lastCursor = activeView2.editor.getCursor();
        }
      };
      input.click();
    });
    const fileNameContainer = contentEl.createEl("div", { cls: "setting-item" });
    fileNameContainer.createEl("label", { text: "\u0418\u043C\u044F \u0444\u0430\u0439\u043B\u0430: " });
    this.fileNameInput = fileNameContainer.createEl("input", {
      type: "text",
      value: this.selectedImage
    });
    this.extSpan = fileNameContainer.createEl("span", { text: "", cls: "file-ext-span" });
    this.fileNameInput.addEventListener("input", () => {
      this.selectedImage = this.fileNameInput.value;
      this.updateSaveButton();
    });
    const sizeContainer = contentEl.createEl("div", { cls: "setting-item" });
    sizeContainer.createEl("label", { text: "\u0420\u0430\u0437\u043C\u0435\u0440: " });
    const sizeSelect = sizeContainer.createEl("select");
    [100, 150, 200, 250, 300].forEach((size) => {
      const option = sizeSelect.createEl("option", {
        text: size.toString(),
        value: size.toString()
      });
      if (size === this.selectedSize) {
        option.selected = true;
      }
    });
    sizeSelect.addEventListener("change", (e) => {
      this.selectedSize = parseInt(e.target.value);
    });
    const alignmentContainer = contentEl.createEl("div", { cls: "setting-item" });
    alignmentContainer.createEl("label", { text: "\u0412\u044B\u0440\u0430\u0432\u043D\u0438\u0432\u0430\u043D\u0438\u0435: " });
    const alignmentSelect = alignmentContainer.createEl("select");
    ["left", "center", "right"].forEach((alignment) => {
      const option = alignmentSelect.createEl("option", {
        text: alignment,
        value: alignment
      });
      if (alignment === this.selectedAlignment) {
        option.selected = true;
      }
    });
    alignmentSelect.addEventListener("change", (e) => {
      this.selectedAlignment = e.target.value;
    });
    this.saveButton = contentEl.createEl("button", {
      text: "\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C",
      cls: "mod-cta"
    });
    this.saveButton.addEventListener("click", () => this.saveImage());
    this.updateFileNameInput();
    this.updateSaveButton();
  }
  updateFileNameInput() {
    if (this.fileNameInput) {
      this.fileNameInput.value = this.selectedImage || "";
      this.fileNameInput.disabled = !this.selectedFile;
    }
    if (this.extSpan) {
      this.extSpan.setText(this.allowedExt ? "." + this.allowedExt : "");
    }
  }
  updateSaveButton() {
    if (this.saveButton) {
      this.saveButton.disabled = !this.selectedFile || !this.selectedImage || !this.allowedExt;
    }
  }
  async saveImage() {
    if (!this.selectedFile || !this.selectedImage || !this.allowedExt)
      return;
    const newFileName = this.selectedImage.replace(/[\\/:*?"<>|]/g, "") + "." + this.allowedExt;
    const filePath = `${ASSETS_FOLDER}/${newFileName}`;
    const folder = this.app.vault.getAbstractFileByPath(ASSETS_FOLDER);
    if (!folder) {
      await this.app.vault.createFolder(ASSETS_FOLDER);
    }
    const reader = new FileReader();
    reader.onload = async (event) => {
      var _a;
      if (!((_a = event.target) == null ? void 0 : _a.result))
        return;
      const arrayBuffer = event.target.result;
      try {
        await this.app.vault.createBinary(filePath, arrayBuffer);
        this.selectedFile = null;
        this.selectedImage = "";
        this.allowedExt = "";
        this.updateFileNameInput();
        this.updateSaveButton();
        new import_obsidian.Notice("\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u043E");
        if (this.lastEditor && this.lastCursor) {
          const imageText = `![[${newFileName}|${this.selectedAlignment}|${this.selectedSize}]]`;
          this.lastEditor.replaceRange(imageText, this.lastCursor);
        }
      } catch (error) {
        new import_obsidian.Notice("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u0438 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F");
        console.error(error);
      }
    };
    reader.readAsArrayBuffer(this.selectedFile);
  }
  async onClose() {
    this.contentEl.empty();
  }
};
// Annotate the CommonJS export names for ESM import in node:
0 && (module.exports = {});
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBFZGl0b3IsIE1hcmtkb3duVmlldywgTW9kYWwsIE5vdGljZSwgUGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLCBURmlsZSwgSXRlbVZpZXcsIFdvcmtzcGFjZUxlYWYgfSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG5pbnRlcmZhY2UgSW1hZ2VBZGRTZXR0aW5ncyB7XHJcbiAgICBkZWZhdWx0U2l6ZTogbnVtYmVyO1xyXG4gICAgZGVmYXVsdEFsaWdubWVudDogc3RyaW5nO1xyXG59XHJcblxyXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBJbWFnZUFkZFNldHRpbmdzID0ge1xyXG4gICAgZGVmYXVsdFNpemU6IDIwMCxcclxuICAgIGRlZmF1bHRBbGlnbm1lbnQ6ICdjZW50ZXInXHJcbn1cclxuXHJcbmNvbnN0IEFTU0VUU19GT0xERVIgPSBcIjk5IC0gXHUwNDFFXHUwNDMxXHUwNDQ5XHUwNDM4XHUwNDM1IFx1MDQ0MFx1MDQzNVx1MDQ0MVx1MDQ0M1x1MDQ0MFx1MDQ0MVx1MDQ0Qi85OSAtIFx1MDQxRVx1MDQ0MVx1MDQ0Mlx1MDQzMFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQzRVx1MDQzNS9cdTA0MTBcdTA0NDFcdTA0NDFcdTA0MzVcdTA0NDJcdTA0NEJcIjtcclxuXHJcbmNvbnN0IElNQUdFX0FERF9WSUVXX1RZUEUgPSAnaW1hZ2UtYWRkLXZpZXcnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW1hZ2VBZGRQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xyXG4gICAgc2V0dGluZ3M6IEltYWdlQWRkU2V0dGluZ3M7XHJcbiAgICB2aWV3OiBJbWFnZUFkZFZpZXcgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgICBhc3luYyBvbmxvYWQoKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWdpc3RlclZpZXcoXHJcbiAgICAgICAgICAgIElNQUdFX0FERF9WSUVXX1RZUEUsXHJcbiAgICAgICAgICAgIChsZWFmKSA9PiAodGhpcy52aWV3ID0gbmV3IEltYWdlQWRkVmlldyhsZWFmLCB0aGlzKSlcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLmFkZFJpYmJvbkljb24oJ2ltYWdlJywgJ0ltYWdlIEFkZCcsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZVZpZXcoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBhY3RpdmF0ZVZpZXcoKSB7XHJcbiAgICAgICAgbGV0IGxlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKElNQUdFX0FERF9WSUVXX1RZUEUpWzBdO1xyXG4gICAgICAgIGlmICghbGVhZikge1xyXG4gICAgICAgICAgICBjb25zdCByaWdodExlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0UmlnaHRMZWFmKGZhbHNlKTtcclxuICAgICAgICAgICAgaWYgKCFyaWdodExlYWYpIHJldHVybjtcclxuICAgICAgICAgICAgbGVhZiA9IHJpZ2h0TGVhZjtcclxuICAgICAgICAgICAgYXdhaXQgbGVhZi5zZXRWaWV3U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogSU1BR0VfQUREX1ZJRVdfVFlQRSxcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogdHJ1ZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5yZXZlYWxMZWFmKGxlYWYpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcclxuICAgICAgICB0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBzYXZlU2V0dGluZ3MoKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgSW1hZ2VBZGRWaWV3IGV4dGVuZHMgSXRlbVZpZXcge1xyXG4gICAgcGx1Z2luOiBJbWFnZUFkZFBsdWdpbjtcclxuICAgIHNlbGVjdGVkRmlsZTogRmlsZSB8IG51bGwgPSBudWxsO1xyXG4gICAgc2VsZWN0ZWRJbWFnZTogc3RyaW5nID0gJyc7XHJcbiAgICBzZWxlY3RlZFNpemU6IG51bWJlciA9IDIwMDtcclxuICAgIHNlbGVjdGVkQWxpZ25tZW50OiBzdHJpbmcgPSAnY2VudGVyJztcclxuICAgIGZpbGVOYW1lSW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsID0gbnVsbDtcclxuICAgIGV4dFNwYW46IEhUTUxTcGFuRWxlbWVudCB8IG51bGwgPSBudWxsO1xyXG4gICAgc2F2ZUJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsID0gbnVsbDtcclxuICAgIGFsbG93ZWRFeHQ6IHN0cmluZyA9ICcnO1xyXG4gICAgbGFzdEVkaXRvcjogRWRpdG9yIHwgbnVsbCA9IG51bGw7XHJcbiAgICBsYXN0Q3Vyc29yOiB7bGluZTogbnVtYmVyLCBjaDogbnVtYmVyfSB8IG51bGwgPSBudWxsO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGxlYWY6IFdvcmtzcGFjZUxlYWYsIHBsdWdpbjogSW1hZ2VBZGRQbHVnaW4pIHtcclxuICAgICAgICBzdXBlcihsZWFmKTtcclxuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuICAgIH1cclxuXHJcbiAgICBnZXRWaWV3VHlwZSgpIHtcclxuICAgICAgICByZXR1cm4gSU1BR0VfQUREX1ZJRVdfVFlQRTtcclxuICAgIH1cclxuXHJcbiAgICBnZXREaXNwbGF5VGV4dCgpIHtcclxuICAgICAgICByZXR1cm4gJ0ltYWdlIEFkZCc7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgb25PcGVuKCkge1xyXG4gICAgICAgIGNvbnN0IHtjb250ZW50RWx9ID0gdGhpcztcclxuICAgICAgICBjb250ZW50RWwuZW1wdHkoKTtcclxuICAgICAgICBjb250ZW50RWwuYWRkQ2xhc3MoJ2ltYWdlLWFkZC1tb2RhbCcpO1xyXG4gICAgICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgnaDInLCB7dGV4dDogJ1x1MDQxNFx1MDQzRVx1MDQzMVx1MDQzMFx1MDQzMlx1MDQzOFx1MDQ0Mlx1MDQ0QyBcdTA0MzhcdTA0MzdcdTA0M0VcdTA0MzFcdTA0NDBcdTA0MzBcdTA0MzZcdTA0MzVcdTA0M0RcdTA0MzhcdTA0MzUnfSk7XHJcblxyXG4gICAgICAgIC8vIFx1MDQyMVx1MDQzRVx1MDQ0NVx1MDQ0MFx1MDQzMFx1MDQzRFx1MDQ0Rlx1MDQzNVx1MDQzQyBcdTA0MzBcdTA0M0FcdTA0NDJcdTA0MzhcdTA0MzJcdTA0M0RcdTA0NEJcdTA0MzkgXHUwNDQwXHUwNDM1XHUwNDM0XHUwNDMwXHUwNDNBXHUwNDQyXHUwNDNFXHUwNDQwIFx1MDQzOCBcdTA0M0ZcdTA0M0VcdTA0MzdcdTA0MzhcdTA0NDZcdTA0MzhcdTA0NEUgXHUwNDNBXHUwNDQzXHUwNDQwXHUwNDQxXHUwNDNFXHUwNDQwXHUwNDMwIFx1MDQzRlx1MDQ0MFx1MDQzOCBcdTA0M0VcdTA0NDJcdTA0M0FcdTA0NDBcdTA0NEJcdTA0NDJcdTA0MzhcdTA0MzggXHUwNDNGXHUwNDMwXHUwNDNEXHUwNDM1XHUwNDNCXHUwNDM4XHJcbiAgICAgICAgY29uc3QgYWN0aXZlVmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XHJcbiAgICAgICAgaWYgKGFjdGl2ZVZpZXcpIHtcclxuICAgICAgICAgICAgdGhpcy5sYXN0RWRpdG9yID0gYWN0aXZlVmlldy5lZGl0b3I7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdEN1cnNvciA9IGFjdGl2ZVZpZXcuZWRpdG9yLmdldEN1cnNvcigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gXHUwNDFBXHUwNDNEXHUwNDNFXHUwNDNGXHUwNDNBXHUwNDMwIFx1MDQzMlx1MDQ0Qlx1MDQzMVx1MDQzRVx1MDQ0MFx1MDQzMCBcdTA0MzhcdTA0MzdcdTA0M0VcdTA0MzFcdTA0NDBcdTA0MzBcdTA0MzZcdTA0MzVcdTA0M0RcdTA0MzhcdTA0NEZcclxuICAgICAgICBjb25zdCBzZWxlY3RCdXR0b24gPSBjb250ZW50RWwuY3JlYXRlRWwoJ2J1dHRvbicsIHtcclxuICAgICAgICAgICAgdGV4dDogJ1x1MDQxMlx1MDQ0Qlx1MDQzMVx1MDQ0MFx1MDQzMFx1MDQ0Mlx1MDQ0QyBcdTA0MzhcdTA0MzdcdTA0M0VcdTA0MzFcdTA0NDBcdTA0MzBcdTA0MzZcdTA0MzVcdTA0M0RcdTA0MzhcdTA0MzUnLFxyXG4gICAgICAgICAgICBjbHM6ICdtb2QtY3RhJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNlbGVjdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgICAgICAgICBpbnB1dC50eXBlID0gJ2ZpbGUnO1xyXG4gICAgICAgICAgICBpbnB1dC5hY2NlcHQgPSAnLmpwZywuanBlZywucG5nJztcclxuICAgICAgICAgICAgaW5wdXQub25jaGFuZ2UgPSBhc3luYyAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS5maWxlcz8uWzBdO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFmaWxlKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjb25zdCBleHQgPSBmaWxlLm5hbWUuc3BsaXQoJy4nKS5wb3AoKT8udG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgIGlmIChleHQgIT09ICdqcGcnICYmIGV4dCAhPT0gJ2pwZWcnICYmIGV4dCAhPT0gJ3BuZycpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXcgTm90aWNlKCdcdTA0MjBcdTA0MzBcdTA0MzdcdTA0NDBcdTA0MzVcdTA0NDhcdTA0MzVcdTA0M0RcdTA0NEIgXHUwNDQyXHUwNDNFXHUwNDNCXHUwNDRDXHUwNDNBXHUwNDNFIFx1MDQ0NFx1MDQzMFx1MDQzOVx1MDQzQlx1MDQ0QiAuanBnIFx1MDQzOCAucG5nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEZpbGUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWxsb3dlZEV4dCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRmlsZU5hbWVJbnB1dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2F2ZUJ1dHRvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRGaWxlID0gZmlsZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWxsb3dlZEV4dCA9IGV4dCA9PT0gJ2pwZWcnID8gJ2pwZycgOiBleHQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW1hZ2UgPSBmaWxlLm5hbWUuc3Vic3RyaW5nKDAsIGZpbGUubmFtZS5sYXN0SW5kZXhPZignLicpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRmlsZU5hbWVJbnB1dCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTYXZlQnV0dG9uKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBcdTA0MjFcdTA0M0VcdTA0NDVcdTA0NDBcdTA0MzBcdTA0M0RcdTA0NEZcdTA0MzVcdTA0M0MgXHUwNDQwXHUwNDM1XHUwNDM0XHUwNDMwXHUwNDNBXHUwNDQyXHUwNDNFXHUwNDQwIFx1MDQzOCBcdTA0M0ZcdTA0M0VcdTA0MzdcdTA0MzhcdTA0NDZcdTA0MzhcdTA0NEUgXHUwNDNBXHUwNDQzXHUwNDQwXHUwNDQxXHUwNDNFXHUwNDQwXHUwNDMwIFx1MDQzRlx1MDQ0MFx1MDQzOCBcdTA0MzJcdTA0NEJcdTA0MzFcdTA0M0VcdTA0NDBcdTA0MzUgXHUwNDQ0XHUwNDMwXHUwNDM5XHUwNDNCXHUwNDMwIChcdTA0M0RcdTA0MzAgXHUwNDQxXHUwNDNCXHUwNDQzXHUwNDQ3XHUwNDMwXHUwNDM5IFx1MDQzNVx1MDQ0MVx1MDQzQlx1MDQzOCBcdTA0M0ZcdTA0M0VcdTA0M0JcdTA0NENcdTA0MzdcdTA0M0VcdTA0MzJcdTA0MzBcdTA0NDJcdTA0MzVcdTA0M0JcdTA0NEMgXHUwNDNGXHUwNDM1XHUwNDQwXHUwNDM1XHUwNDNBXHUwNDNCXHUwNDRFXHUwNDQ3XHUwNDM4XHUwNDNCXHUwNDQxXHUwNDRGKVxyXG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlVmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYWN0aXZlVmlldykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdEVkaXRvciA9IGFjdGl2ZVZpZXcuZWRpdG9yO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdEN1cnNvciA9IGFjdGl2ZVZpZXcuZWRpdG9yLmdldEN1cnNvcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpbnB1dC5jbGljaygpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBcdTA0MThcdTA0M0NcdTA0NEYgXHUwNDQ0XHUwNDMwXHUwNDM5XHUwNDNCXHUwNDMwIChcdTA0NDJcdTA0M0VcdTA0M0JcdTA0NENcdTA0M0FcdTA0M0UgXHUwNDM4XHUwNDNDXHUwNDRGLCBcdTA0NDBcdTA0MzBcdTA0NDFcdTA0NDhcdTA0MzhcdTA0NDBcdTA0MzVcdTA0M0RcdTA0MzhcdTA0MzUgXHUwNDNFXHUwNDQyXHUwNDM0XHUwNDM1XHUwNDNCXHUwNDRDXHUwNDNEXHUwNDNFKVxyXG4gICAgICAgIGNvbnN0IGZpbGVOYW1lQ29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZUVsKCdkaXYnLCB7Y2xzOiAnc2V0dGluZy1pdGVtJ30pO1xyXG4gICAgICAgIGZpbGVOYW1lQ29udGFpbmVyLmNyZWF0ZUVsKCdsYWJlbCcsIHt0ZXh0OiAnXHUwNDE4XHUwNDNDXHUwNDRGIFx1MDQ0NFx1MDQzMFx1MDQzOVx1MDQzQlx1MDQzMDogJ30pO1xyXG4gICAgICAgIHRoaXMuZmlsZU5hbWVJbnB1dCA9IGZpbGVOYW1lQ29udGFpbmVyLmNyZWF0ZUVsKCdpbnB1dCcsIHtcclxuICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxyXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zZWxlY3RlZEltYWdlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5leHRTcGFuID0gZmlsZU5hbWVDb250YWluZXIuY3JlYXRlRWwoJ3NwYW4nLCB7dGV4dDogJycsIGNsczogJ2ZpbGUtZXh0LXNwYW4nfSk7XHJcbiAgICAgICAgdGhpcy5maWxlTmFtZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW1hZ2UgPSB0aGlzLmZpbGVOYW1lSW5wdXQhLnZhbHVlO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNhdmVCdXR0b24oKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gXHUwNDIwXHUwNDMwXHUwNDM3XHUwNDNDXHUwNDM1XHUwNDQwXHJcbiAgICAgICAgY29uc3Qgc2l6ZUNvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVFbCgnZGl2Jywge2NsczogJ3NldHRpbmctaXRlbSd9KTtcclxuICAgICAgICBzaXplQ29udGFpbmVyLmNyZWF0ZUVsKCdsYWJlbCcsIHt0ZXh0OiAnXHUwNDIwXHUwNDMwXHUwNDM3XHUwNDNDXHUwNDM1XHUwNDQwOiAnfSk7XHJcbiAgICAgICAgY29uc3Qgc2l6ZVNlbGVjdCA9IHNpemVDb250YWluZXIuY3JlYXRlRWwoJ3NlbGVjdCcpO1xyXG4gICAgICAgIFsxMDAsIDE1MCwgMjAwLCAyNTAsIDMwMF0uZm9yRWFjaChzaXplID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gc2l6ZVNlbGVjdC5jcmVhdGVFbCgnb3B0aW9uJywge1xyXG4gICAgICAgICAgICAgICAgdGV4dDogc2l6ZS50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHNpemUudG9TdHJpbmcoKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKHNpemUgPT09IHRoaXMuc2VsZWN0ZWRTaXplKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc2l6ZVNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkU2l6ZSA9IHBhcnNlSW50KChlLnRhcmdldCBhcyBIVE1MU2VsZWN0RWxlbWVudCkudmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBcdTA0MTJcdTA0NEJcdTA0NDBcdTA0MzBcdTA0MzJcdTA0M0RcdTA0MzhcdTA0MzJcdTA0MzBcdTA0M0RcdTA0MzhcdTA0MzVcclxuICAgICAgICBjb25zdCBhbGlnbm1lbnRDb250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRWwoJ2RpdicsIHtjbHM6ICdzZXR0aW5nLWl0ZW0nfSk7XHJcbiAgICAgICAgYWxpZ25tZW50Q29udGFpbmVyLmNyZWF0ZUVsKCdsYWJlbCcsIHt0ZXh0OiAnXHUwNDEyXHUwNDRCXHUwNDQwXHUwNDMwXHUwNDMyXHUwNDNEXHUwNDM4XHUwNDMyXHUwNDMwXHUwNDNEXHUwNDM4XHUwNDM1OiAnfSk7XHJcbiAgICAgICAgY29uc3QgYWxpZ25tZW50U2VsZWN0ID0gYWxpZ25tZW50Q29udGFpbmVyLmNyZWF0ZUVsKCdzZWxlY3QnKTtcclxuICAgICAgICBbJ2xlZnQnLCAnY2VudGVyJywgJ3JpZ2h0J10uZm9yRWFjaChhbGlnbm1lbnQgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvcHRpb24gPSBhbGlnbm1lbnRTZWxlY3QuY3JlYXRlRWwoJ29wdGlvbicsIHtcclxuICAgICAgICAgICAgICAgIHRleHQ6IGFsaWdubWVudCxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBhbGlnbm1lbnRcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmIChhbGlnbm1lbnQgPT09IHRoaXMuc2VsZWN0ZWRBbGlnbm1lbnQpIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBhbGlnbm1lbnRTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEFsaWdubWVudCA9IChlLnRhcmdldCBhcyBIVE1MU2VsZWN0RWxlbWVudCkudmFsdWU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFx1MDQxQVx1MDQzRFx1MDQzRVx1MDQzRlx1MDQzQVx1MDQzMCBcdTA0MzRcdTA0M0VcdTA0MzFcdTA0MzBcdTA0MzJcdTA0M0JcdTA0MzVcdTA0M0RcdTA0MzhcdTA0NEZcclxuICAgICAgICB0aGlzLnNhdmVCdXR0b24gPSBjb250ZW50RWwuY3JlYXRlRWwoJ2J1dHRvbicsIHtcclxuICAgICAgICAgICAgdGV4dDogJ1x1MDQxNFx1MDQzRVx1MDQzMVx1MDQzMFx1MDQzMlx1MDQzOFx1MDQ0Mlx1MDQ0QycsXHJcbiAgICAgICAgICAgIGNsczogJ21vZC1jdGEnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zYXZlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5zYXZlSW1hZ2UoKSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVGaWxlTmFtZUlucHV0KCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVTYXZlQnV0dG9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlRmlsZU5hbWVJbnB1dCgpIHtcclxuICAgICAgICBpZiAodGhpcy5maWxlTmFtZUlucHV0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsZU5hbWVJbnB1dC52YWx1ZSA9IHRoaXMuc2VsZWN0ZWRJbWFnZSB8fCAnJztcclxuICAgICAgICAgICAgdGhpcy5maWxlTmFtZUlucHV0LmRpc2FibGVkID0gIXRoaXMuc2VsZWN0ZWRGaWxlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5leHRTcGFuKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXh0U3Bhbi5zZXRUZXh0KHRoaXMuYWxsb3dlZEV4dCA/ICcuJyArIHRoaXMuYWxsb3dlZEV4dCA6ICcnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlU2F2ZUJ1dHRvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5zYXZlQnV0dG9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2F2ZUJ1dHRvbi5kaXNhYmxlZCA9ICF0aGlzLnNlbGVjdGVkRmlsZSB8fCAhdGhpcy5zZWxlY3RlZEltYWdlIHx8ICF0aGlzLmFsbG93ZWRFeHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHNhdmVJbWFnZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRGaWxlIHx8ICF0aGlzLnNlbGVjdGVkSW1hZ2UgfHwgIXRoaXMuYWxsb3dlZEV4dCkgcmV0dXJuO1xyXG4gICAgICAgIGNvbnN0IG5ld0ZpbGVOYW1lID0gdGhpcy5zZWxlY3RlZEltYWdlLnJlcGxhY2UoL1tcXFxcLzoqP1wiPD58XS9nLCAnJykgKyAnLicgKyB0aGlzLmFsbG93ZWRFeHQ7XHJcbiAgICAgICAgY29uc3QgZmlsZVBhdGggPSBgJHtBU1NFVFNfRk9MREVSfS8ke25ld0ZpbGVOYW1lfWA7XHJcbiAgICAgICAgLy8gXHUwNDFGXHUwNDQwXHUwNDNFXHUwNDMyXHUwNDM1XHUwNDQwXHUwNDRGXHUwNDM1XHUwNDNDIFx1MDQ0MVx1MDQ0M1x1MDQ0OVx1MDQzNVx1MDQ0MVx1MDQ0Mlx1MDQzMlx1MDQzRVx1MDQzMlx1MDQzMFx1MDQzRFx1MDQzOFx1MDQzNSBcdTA0M0ZcdTA0MzBcdTA0M0ZcdTA0M0FcdTA0MzhcclxuICAgICAgICBjb25zdCBmb2xkZXIgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoQVNTRVRTX0ZPTERFUik7XHJcbiAgICAgICAgaWYgKCFmb2xkZXIpIHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlRm9sZGVyKEFTU0VUU19GT0xERVIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBcdTA0MjdcdTA0MzhcdTA0NDJcdTA0MzBcdTA0MzVcdTA0M0MgXHUwNDQ0XHUwNDMwXHUwNDM5XHUwNDNCIFx1MDQzQVx1MDQzMFx1MDQzQSBBcnJheUJ1ZmZlclxyXG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGFzeW5jIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWV2ZW50LnRhcmdldD8ucmVzdWx0KSByZXR1cm47XHJcbiAgICAgICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gZXZlbnQudGFyZ2V0LnJlc3VsdCBhcyBBcnJheUJ1ZmZlcjtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZUJpbmFyeShmaWxlUGF0aCwgYXJyYXlCdWZmZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEZpbGUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEltYWdlID0gJyc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFsbG93ZWRFeHQgPSAnJztcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRmlsZU5hbWVJbnB1dCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTYXZlQnV0dG9uKCk7XHJcbiAgICAgICAgICAgICAgICBuZXcgTm90aWNlKCdcdTA0MThcdTA0MzdcdTA0M0VcdTA0MzFcdTA0NDBcdTA0MzBcdTA0MzZcdTA0MzVcdTA0M0RcdTA0MzhcdTA0MzUgXHUwNDQzXHUwNDQxXHUwNDNGXHUwNDM1XHUwNDQ4XHUwNDNEXHUwNDNFIFx1MDQzNFx1MDQzRVx1MDQzMVx1MDQzMFx1MDQzMlx1MDQzQlx1MDQzNVx1MDQzRFx1MDQzRScpO1xyXG4gICAgICAgICAgICAgICAgLy8gXHUwNDEyXHUwNDQxXHUwNDQyXHUwNDMwXHUwNDMyXHUwNDNCXHUwNDRGXHUwNDM1XHUwNDNDIFx1MDQ0MVx1MDQ0MVx1MDQ0Qlx1MDQzQlx1MDQzQVx1MDQ0MyBcdTA0MzIgXHUwNDM3XHUwNDMwXHUwNDNDXHUwNDM1XHUwNDQyXHUwNDNBXHUwNDQzIFx1MDQzRlx1MDQzRSBcdTA0NDFcdTA0M0VcdTA0NDVcdTA0NDBcdTA0MzBcdTA0M0RcdTA0NTFcdTA0M0RcdTA0M0RcdTA0M0VcdTA0MzkgXHUwNDNGXHUwNDNFXHUwNDM3XHUwNDM4XHUwNDQ2XHUwNDM4XHUwNDM4IFx1MDQzQVx1MDQ0M1x1MDQ0MFx1MDQ0MVx1MDQzRVx1MDQ0MFx1MDQzMFxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubGFzdEVkaXRvciAmJiB0aGlzLmxhc3RDdXJzb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZVRleHQgPSBgIVtbJHtuZXdGaWxlTmFtZX18JHt0aGlzLnNlbGVjdGVkQWxpZ25tZW50fXwke3RoaXMuc2VsZWN0ZWRTaXplfV1dYDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RFZGl0b3IucmVwbGFjZVJhbmdlKGltYWdlVGV4dCwgdGhpcy5sYXN0Q3Vyc29yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoJ1x1MDQxRVx1MDQ0OFx1MDQzOFx1MDQzMVx1MDQzQVx1MDQzMCBcdTA0M0ZcdTA0NDBcdTA0MzggXHUwNDQxXHUwNDNFXHUwNDQ1XHUwNDQwXHUwNDMwXHUwNDNEXHUwNDM1XHUwNDNEXHUwNDM4XHUwNDM4IFx1MDQzOFx1MDQzN1x1MDQzRVx1MDQzMVx1MDQ0MFx1MDQzMFx1MDQzNlx1MDQzNVx1MDQzRFx1MDQzOFx1MDQ0RicpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcih0aGlzLnNlbGVjdGVkRmlsZSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgb25DbG9zZSgpIHtcclxuICAgICAgICB0aGlzLmNvbnRlbnRFbC5lbXB0eSgpO1xyXG4gICAgfVxyXG59ICJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBLHNCQUE0SDtBQU81SCxJQUFNLG1CQUFxQztBQUFBLEVBQ3ZDLGFBQWE7QUFBQSxFQUNiLGtCQUFrQjtBQUFBO0FBR3RCLElBQU0sZ0JBQWdCO0FBRXRCLElBQU0sc0JBQXNCO0FBRTVCLG1DQUE0Qyx1QkFBTztBQUFBLEVBQW5ELGNBaEJBO0FBZ0JBO0FBRUksZ0JBQTRCO0FBQUE7QUFBQSxRQUV0QixTQUFTO0FBQ1gsVUFBTSxLQUFLO0FBRVgsU0FBSyxhQUNELHFCQUNBLENBQUMsU0FBVSxLQUFLLE9BQU8sSUFBSSxhQUFhLE1BQU07QUFHbEQsU0FBSyxjQUFjLFNBQVMsYUFBYSxNQUFNO0FBQzNDLFdBQUs7QUFBQTtBQUFB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
