/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __markAsModule = (target) => __defProp(target, "__esModule", { value: true });
var __export = (target, all) => {
  __markAsModule(target);
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __reExport = (target, module2, desc) => {
  if (module2 && typeof module2 === "object" || typeof module2 === "function") {
    for (let key of __getOwnPropNames(module2))
      if (!__hasOwnProp.call(target, key) && key !== "default")
        __defProp(target, key, { get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable });
  }
  return target;
};
var __toModule = (module2) => {
  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, "default", module2 && module2.__esModule && "default" in module2 ? { get: () => module2.default, enumerable: true } : { value: module2, enumerable: true })), module2);
};

// main.ts
__export(exports, {
  InitiativeTrackerView: () => InitiativeTrackerView,
  default: () => InitiativeTrackerPlugin
});
var import_obsidian = __toModule(require("obsidian"));
var VIEW_TYPE = "initiative-tracker-view";
var InitiativeTrackerView = class extends import_obsidian.ItemView {
  constructor(leaf, plugin) {
    super(leaf);
    this.combatants = [];
    this.plugin = plugin;
  }
  getViewType() {
    return VIEW_TYPE;
  }
  getDisplayText() {
    return "\u0422\u0440\u0435\u043A\u0435\u0440 \u0418\u043D\u0438\u0446\u0438\u0430\u0442\u0438\u0432\u044B \u0438 \u0425\u041F";
  }
  async onOpen() {
    this.combatants = await this.plugin.loadCombatants();
    const container = this.containerEl;
    container.empty();
    container.addClass("initiative-tracker");
    container.addClass("initiative-tracker-scroll");
    this.renderTracker(container);
  }
  async saveAndRender() {
    await this.plugin.saveCombatants(this.combatants);
    const list = this.containerEl.querySelector(".combatant-list");
    if (list instanceof HTMLElement) {
      this.renderCombatants(list);
    }
  }
  renderTracker(container) {
    const header = container.createDiv("initiative-tracker-header");
    header.style.justifyContent = "center";
    const addButton = header.createEl("button");
    addButton.addClass("add-combatant-btn");
    addButton.innerHTML = '<span class="plus-icon">+</span>';
    addButton.title = "\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0443\u0447\u0430\u0441\u0442\u043D\u0438\u043A\u0430";
    addButton.addEventListener("click", () => this.showAddCombatantModal());
    const list = container.createDiv("combatant-list");
    this.renderCombatants(list);
  }
  renderCombatants(container) {
    container.empty();
    const sortedCombatants = [...this.combatants].sort((a, b) => b.initiative - a.initiative);
    sortedCombatants.forEach((combatant) => {
      const item = container.createDiv("combatant-item");
      const header = item.createDiv("combatant-header");
      const nameDiv = header.createDiv("combatant-name");
      nameDiv.setText(combatant.name);
      const initiativeDiv = header.createDiv("combatant-initiative");
      initiativeDiv.setText(`\u0418\u043D\u0438\u0446\u0438\u0430\u0442\u0438\u0432\u0430: ${combatant.initiative}`);
      const removeBtn = header.createEl("button");
      removeBtn.className = "remove-combatant-btn";
      removeBtn.innerHTML = '<span class="remove-icon">&times;</span>';
      removeBtn.title = "\u0423\u0434\u0430\u043B\u0438\u0442\u044C";
      removeBtn.addEventListener("click", async () => {
        this.combatants = this.combatants.filter((c) => c.id !== combatant.id);
        await this.saveAndRender();
      });
      const hpBarContainer = item.createDiv("hp-bar-container");
      hpBarContainer.style.position = "relative";
      const hpBarBg = hpBarContainer.createDiv("hp-bar-bg");
      const tempHpBar = hpBarContainer.createDiv("temp-hp-bar");
      const hpBar = hpBarContainer.createDiv("hp-bar");
      const hpPercentage = combatant.currentHp / combatant.maxHp * 100;
      const tempHpPercentage = combatant.tempHp / combatant.maxHp * 100;
      hpBar.style.width = `${Math.max(0, Math.min(100, hpPercentage))}%`;
      tempHpBar.style.width = `${Math.max(0, Math.min(100, tempHpPercentage))}%`;
      if (combatant.tempHp >= combatant.maxHp) {
        tempHpBar.style.borderRadius = "8px";
      } else {
        tempHpBar.style.borderRadius = "8px 0 0 8px";
      }
      tempHpBar.style.opacity = combatant.tempHp > 0 ? "0.7" : "0";
      if (hpPercentage < 25) {
        hpBar.style.backgroundColor = "#e74c3c";
      } else if (hpPercentage < 50) {
        hpBar.style.backgroundColor = "#f39c12";
      } else {
        hpBar.style.backgroundColor = "var(--interactive-accent)";
      }
      item.createDiv("hp-text").setText(`\u0425\u041F: ${combatant.currentHp}/${combatant.maxHp}${combatant.tempHp > 0 ? ` + ${combatant.tempHp} \u0432\u0440\u0435\u043C.` : ""}`);
      const controls = item.createDiv("hp-controls");
      const damageInput = controls.createEl("input");
      damageInput.type = "number";
      damageInput.className = "damage-input";
      damageInput.placeholder = "\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E";
      const damageBtn = controls.createEl("button");
      damageBtn.className = "action-btn damage-btn";
      damageBtn.setText("\u0423\u0440\u043E\u043D");
      const healBtn = controls.createEl("button");
      healBtn.className = "action-btn heal-btn";
      healBtn.setText("\u041B\u0435\u0447\u0435\u043D\u0438\u0435");
      const tempHpBtn = controls.createEl("button");
      tempHpBtn.className = "action-btn temp-hp-btn";
      tempHpBtn.setText("\u0412\u0440\u0435\u043C\u0435\u043D\u043D\u043E\u0435 \u0425\u041F");
      damageBtn.addEventListener("click", async () => {
        const amount = parseInt(damageInput.value) || 0;
        if (amount > 0) {
          this.applyDamage(combatant.id, amount);
          damageInput.value = "";
          await this.saveAndRender();
        }
      });
      healBtn.addEventListener("click", async () => {
        const amount = parseInt(damageInput.value) || 0;
        if (amount > 0) {
          this.applyHeal(combatant.id, amount);
          damageInput.value = "";
          await this.saveAndRender();
        }
      });
      tempHpBtn.addEventListener("click", async () => {
        const amount = parseInt(damageInput.value) || 0;
        if (amount > 0) {
          this.applyTempHp(combatant.id, amount);
          damageInput.value = "";
          await this.saveAndRender();
        }
      });
    });
  }
  showAddCombatantModal() {
    new AddCombatantModal(this.app, async (combatant) => {
      this.combatants.push(combatant);
      await this.saveAndRender();
    }).open();
  }
  applyDamage(combatantId, amount) {
    const combatant = this.combatants.find((c) => c.id === combatantId);
    if (!combatant)
      return;
    if (combatant.tempHp > 0) {
      if (combatant.tempHp >= amount) {
        combatant.tempHp -= amount;
        amount = 0;
      } else {
        amount -= combatant.tempHp;
        combatant.tempHp = 0;
      }
    }
    combatant.currentHp = Math.max(0, combatant.currentHp - amount);
  }
  applyHeal(combatantId, amount) {
    const combatant = this.combatants.find((c) => c.id === combatantId);
    if (!combatant)
      return;
    combatant.currentHp = Math.min(combatant.maxHp, combatant.currentHp + amount);
  }
  applyTempHp(combatantId, amount) {
    const combatant = this.combatants.find((c) => c.id === combatantId);
    if (!combatant)
      return;
    combatant.tempHp = amount;
  }
};
var AddCombatantModal = class extends import_obsidian.Modal {
  constructor(app, onSubmit) {
    super(app);
    this.onSubmit = onSubmit;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2").setText("\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0443\u0447\u0430\u0441\u0442\u043D\u0438\u043A\u0430");
    let name = "", initiative = "", maxHp = "";
    new import_obsidian.Setting(contentEl).setName("\u0418\u043C\u044F").addText((text) => text.setPlaceholder("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043C\u044F").onChange((val) => {
      name = val;
    }));
    new import_obsidian.Setting(contentEl).setName("\u0418\u043D\u0438\u0446\u0438\u0430\u0442\u0438\u0432\u0430").addText((text) => text.setPlaceholder("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043D\u0438\u0446\u0438\u0430\u0442\u0438\u0432\u0443").onChange((val) => {
      initiative = val;
    }));
    new import_obsidian.Setting(contentEl).setName("\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0435 \u0425\u041F").addText((text) => text.setPlaceholder("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0435 \u0425\u041F").onChange((val) => {
      maxHp = val;
    }));
    new import_obsidian.Setting(contentEl).addButton((btn) => btn.setButtonText("\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C").onClick(() => {
      const n = name.trim();
      const i = parseInt(initiative) || 0;
      const m = parseInt(maxHp) || 0;
      if (n && m > 0) {
        this.onSubmit({
          id: Date.now().toString(),
          name: n,
          initiative: i,
          maxHp: m,
          currentHp: m,
          tempHp: 0
        });
        this.close();
      }
    }));
  }
  onClose() {
    this.contentEl.empty();
  }
};
var InitiativeTrackerPlugin = class extends import_obsidian.Plugin {
  async onload() {
    this.registerView(VIEW_TYPE, (leaf) => new InitiativeTrackerView(leaf, this));
    this.addRibbonIcon("plus", "\u041E\u0442\u043A\u0440\u044B\u0442\u044C \u0442\u0440\u0435\u043A\u0435\u0440 \u0438\u043D\u0438\u0446\u0438\u0430\u0442\u0438\u0432\u044B", () => {
      this.activateView();
    });
  }
  async activateView() {
    let leaf = this.app.workspace.getLeavesOfType(VIEW_TYPE)[0];
    if (!leaf) {
      const newLeaf = this.app.workspace.getRightLeaf(false);
      if (newLeaf) {
        await newLeaf.setViewState({
          type: VIEW_TYPE,
          active: true
        });
        this.app.workspace.revealLeaf(newLeaf);
      }
    } else {
      this.app.workspace.revealLeaf(leaf);
    }
  }
  async saveCombatants(combatants) {
    await this.saveData(combatants);
  }
  async loadCombatants() {
    const data = await this.loadData();
    return Array.isArray(data) ? data : [];
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBJdGVtVmlldywgV29ya3NwYWNlTGVhZiwgTW9kYWwsIFNldHRpbmcsIFBsdWdpbiB9IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbmludGVyZmFjZSBDb21iYXRhbnQge1xyXG4gICAgaWQ6IHN0cmluZztcclxuICAgIG5hbWU6IHN0cmluZztcclxuICAgIGluaXRpYXRpdmU6IG51bWJlcjtcclxuICAgIG1heEhwOiBudW1iZXI7XHJcbiAgICBjdXJyZW50SHA6IG51bWJlcjtcclxuICAgIHRlbXBIcDogbnVtYmVyO1xyXG59XHJcblxyXG5jb25zdCBWSUVXX1RZUEUgPSAnaW5pdGlhdGl2ZS10cmFja2VyLXZpZXcnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEluaXRpYXRpdmVUcmFja2VyVmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcclxuICAgIGNvbWJhdGFudHM6IENvbWJhdGFudFtdID0gW107XHJcbiAgICBwbHVnaW46IEluaXRpYXRpdmVUcmFja2VyUGx1Z2luO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGxlYWY6IFdvcmtzcGFjZUxlYWYsIHBsdWdpbjogSW5pdGlhdGl2ZVRyYWNrZXJQbHVnaW4pIHtcclxuICAgICAgICBzdXBlcihsZWFmKTtcclxuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuICAgIH1cclxuXHJcbiAgICBnZXRWaWV3VHlwZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBWSUVXX1RZUEU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGlzcGxheVRleHQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ1x1MDQyMlx1MDQ0MFx1MDQzNVx1MDQzQVx1MDQzNVx1MDQ0MCBcdTA0MThcdTA0M0RcdTA0MzhcdTA0NDZcdTA0MzhcdTA0MzBcdTA0NDJcdTA0MzhcdTA0MzJcdTA0NEIgXHUwNDM4IFx1MDQyNVx1MDQxRic7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgb25PcGVuKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHRoaXMuY29tYmF0YW50cyA9IGF3YWl0IHRoaXMucGx1Z2luLmxvYWRDb21iYXRhbnRzKCk7XHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXJFbDtcclxuICAgICAgICBjb250YWluZXIuZW1wdHkoKTtcclxuICAgICAgICBjb250YWluZXIuYWRkQ2xhc3MoJ2luaXRpYXRpdmUtdHJhY2tlcicpO1xyXG4gICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcygnaW5pdGlhdGl2ZS10cmFja2VyLXNjcm9sbCcpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyVHJhY2tlcihjb250YWluZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHNhdmVBbmRSZW5kZXIoKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZUNvbWJhdGFudHModGhpcy5jb21iYXRhbnRzKTtcclxuICAgICAgICBjb25zdCBsaXN0ID0gdGhpcy5jb250YWluZXJFbC5xdWVyeVNlbGVjdG9yKCcuY29tYmF0YW50LWxpc3QnKTtcclxuICAgICAgICBpZiAobGlzdCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQ29tYmF0YW50cyhsaXN0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyVHJhY2tlcihjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcbiAgICAgICAgLy8gSGVhZGVyIHdpdGggY2VudGVyZWQgcGx1cyBidXR0b25cclxuICAgICAgICBjb25zdCBoZWFkZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KCdpbml0aWF0aXZlLXRyYWNrZXItaGVhZGVyJyk7XHJcbiAgICAgICAgaGVhZGVyLnN0eWxlLmp1c3RpZnlDb250ZW50ID0gJ2NlbnRlcic7XHJcbiAgICAgICAgY29uc3QgYWRkQnV0dG9uID0gaGVhZGVyLmNyZWF0ZUVsKCdidXR0b24nKTtcclxuICAgICAgICBhZGRCdXR0b24uYWRkQ2xhc3MoJ2FkZC1jb21iYXRhbnQtYnRuJyk7XHJcbiAgICAgICAgYWRkQnV0dG9uLmlubmVySFRNTCA9ICc8c3BhbiBjbGFzcz1cInBsdXMtaWNvblwiPis8L3NwYW4+JztcclxuICAgICAgICBhZGRCdXR0b24udGl0bGUgPSAnXHUwNDE0XHUwNDNFXHUwNDMxXHUwNDMwXHUwNDMyXHUwNDM4XHUwNDQyXHUwNDRDIFx1MDQ0M1x1MDQ0N1x1MDQzMFx1MDQ0MVx1MDQ0Mlx1MDQzRFx1MDQzOFx1MDQzQVx1MDQzMCc7XHJcbiAgICAgICAgYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5zaG93QWRkQ29tYmF0YW50TW9kYWwoKSk7XHJcblxyXG4gICAgICAgIC8vIENvbWJhdGFudCBsaXN0XHJcbiAgICAgICAgY29uc3QgbGlzdCA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ2NvbWJhdGFudC1saXN0Jyk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJDb21iYXRhbnRzKGxpc3QpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlckNvbWJhdGFudHMoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnRhaW5lci5lbXB0eSgpO1xyXG4gICAgICAgIC8vIFNvcnQgY29tYmF0YW50cyBieSBpbml0aWF0aXZlXHJcbiAgICAgICAgY29uc3Qgc29ydGVkQ29tYmF0YW50cyA9IFsuLi50aGlzLmNvbWJhdGFudHNdLnNvcnQoKGEsIGIpID0+IGIuaW5pdGlhdGl2ZSAtIGEuaW5pdGlhdGl2ZSk7XHJcbiAgICAgICAgc29ydGVkQ29tYmF0YW50cy5mb3JFYWNoKGNvbWJhdGFudCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBjb250YWluZXIuY3JlYXRlRGl2KCdjb21iYXRhbnQtaXRlbScpO1xyXG4gICAgICAgICAgICAvLyBIZWFkZXIgd2l0aCBuYW1lLCBpbml0aWF0aXZlLCBhbmQgcmVtb3ZlIGJ1dHRvblxyXG4gICAgICAgICAgICBjb25zdCBoZWFkZXIgPSBpdGVtLmNyZWF0ZURpdignY29tYmF0YW50LWhlYWRlcicpO1xyXG4gICAgICAgICAgICBjb25zdCBuYW1lRGl2ID0gaGVhZGVyLmNyZWF0ZURpdignY29tYmF0YW50LW5hbWUnKTtcclxuICAgICAgICAgICAgbmFtZURpdi5zZXRUZXh0KGNvbWJhdGFudC5uYW1lKTtcclxuICAgICAgICAgICAgY29uc3QgaW5pdGlhdGl2ZURpdiA9IGhlYWRlci5jcmVhdGVEaXYoJ2NvbWJhdGFudC1pbml0aWF0aXZlJyk7XHJcbiAgICAgICAgICAgIGluaXRpYXRpdmVEaXYuc2V0VGV4dChgXHUwNDE4XHUwNDNEXHUwNDM4XHUwNDQ2XHUwNDM4XHUwNDMwXHUwNDQyXHUwNDM4XHUwNDMyXHUwNDMwOiAke2NvbWJhdGFudC5pbml0aWF0aXZlfWApO1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgYnV0dG9uXHJcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZUJ0biA9IGhlYWRlci5jcmVhdGVFbCgnYnV0dG9uJyk7XHJcbiAgICAgICAgICAgIHJlbW92ZUJ0bi5jbGFzc05hbWUgPSAncmVtb3ZlLWNvbWJhdGFudC1idG4nO1xyXG4gICAgICAgICAgICByZW1vdmVCdG4uaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwicmVtb3ZlLWljb25cIj4mdGltZXM7PC9zcGFuPic7XHJcbiAgICAgICAgICAgIHJlbW92ZUJ0bi50aXRsZSA9ICdcdTA0MjNcdTA0MzRcdTA0MzBcdTA0M0JcdTA0MzhcdTA0NDJcdTA0NEMnO1xyXG4gICAgICAgICAgICByZW1vdmVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbWJhdGFudHMgPSB0aGlzLmNvbWJhdGFudHMuZmlsdGVyKGMgPT4gYy5pZCAhPT0gY29tYmF0YW50LmlkKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZUFuZFJlbmRlcigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gSFAgQmFyXHJcbiAgICAgICAgICAgIGNvbnN0IGhwQmFyQ29udGFpbmVyID0gaXRlbS5jcmVhdGVEaXYoJ2hwLWJhci1jb250YWluZXInKTtcclxuICAgICAgICAgICAgaHBCYXJDb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xyXG4gICAgICAgICAgICBjb25zdCBocEJhckJnID0gaHBCYXJDb250YWluZXIuY3JlYXRlRGl2KCdocC1iYXItYmcnKTtcclxuICAgICAgICAgICAgY29uc3QgdGVtcEhwQmFyID0gaHBCYXJDb250YWluZXIuY3JlYXRlRGl2KCd0ZW1wLWhwLWJhcicpO1xyXG4gICAgICAgICAgICBjb25zdCBocEJhciA9IGhwQmFyQ29udGFpbmVyLmNyZWF0ZURpdignaHAtYmFyJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGhwUGVyY2VudGFnZSA9IChjb21iYXRhbnQuY3VycmVudEhwIC8gY29tYmF0YW50Lm1heEhwKSAqIDEwMDtcclxuICAgICAgICAgICAgY29uc3QgdGVtcEhwUGVyY2VudGFnZSA9IChjb21iYXRhbnQudGVtcEhwIC8gY29tYmF0YW50Lm1heEhwKSAqIDEwMDtcclxuICAgICAgICAgICAgaHBCYXIuc3R5bGUud2lkdGggPSBgJHtNYXRoLm1heCgwLCBNYXRoLm1pbigxMDAsIGhwUGVyY2VudGFnZSkpfSVgO1xyXG4gICAgICAgICAgICB0ZW1wSHBCYXIuc3R5bGUud2lkdGggPSBgJHtNYXRoLm1heCgwLCBNYXRoLm1pbigxMDAsIHRlbXBIcFBlcmNlbnRhZ2UpKX0lYDtcclxuICAgICAgICAgICAgaWYgKGNvbWJhdGFudC50ZW1wSHAgPj0gY29tYmF0YW50Lm1heEhwKSB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wSHBCYXIuc3R5bGUuYm9yZGVyUmFkaXVzID0gJzhweCc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wSHBCYXIuc3R5bGUuYm9yZGVyUmFkaXVzID0gJzhweCAwIDAgOHB4JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0ZW1wSHBCYXIuc3R5bGUub3BhY2l0eSA9IGNvbWJhdGFudC50ZW1wSHAgPiAwID8gJzAuNycgOiAnMCc7XHJcbiAgICAgICAgICAgIC8vIFx1MDQxNFx1MDQzOFx1MDQzRFx1MDQzMFx1MDQzQ1x1MDQzOFx1MDQ0N1x1MDQzNVx1MDQ0MVx1MDQzQVx1MDQzOFx1MDQzOSBcdTA0NDZcdTA0MzJcdTA0MzVcdTA0NDIgXHUwNDNFXHUwNDQxXHUwNDNEXHUwNDNFXHUwNDMyXHUwNDNEXHUwNDNFXHUwNDMzXHUwNDNFIFx1MDQzMVx1MDQzMFx1MDQ0MFx1MDQzMFxyXG4gICAgICAgICAgICBpZiAoaHBQZXJjZW50YWdlIDwgMjUpIHtcclxuICAgICAgICAgICAgICAgIGhwQmFyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjZTc0YzNjJzsgLy8gXHUwNDNBXHUwNDQwXHUwNDMwXHUwNDQxXHUwNDNEXHUwNDRCXHUwNDM5XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaHBQZXJjZW50YWdlIDwgNTApIHtcclxuICAgICAgICAgICAgICAgIGhwQmFyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjZjM5YzEyJzsgLy8gXHUwNDNFXHUwNDQwXHUwNDMwXHUwNDNEXHUwNDM2XHUwNDM1XHUwNDMyXHUwNDRCXHUwNDM5XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBocEJhci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAndmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gSFAgVGV4dFxyXG4gICAgICAgICAgICBpdGVtLmNyZWF0ZURpdignaHAtdGV4dCcpLnNldFRleHQoYFx1MDQyNVx1MDQxRjogJHtjb21iYXRhbnQuY3VycmVudEhwfS8ke2NvbWJhdGFudC5tYXhIcH0ke2NvbWJhdGFudC50ZW1wSHAgPiAwID8gYCArICR7Y29tYmF0YW50LnRlbXBIcH0gXHUwNDMyXHUwNDQwXHUwNDM1XHUwNDNDLmAgOiAnJ31gKTtcclxuICAgICAgICAgICAgLy8gQ29udHJvbHNcclxuICAgICAgICAgICAgY29uc3QgY29udHJvbHMgPSBpdGVtLmNyZWF0ZURpdignaHAtY29udHJvbHMnKTtcclxuICAgICAgICAgICAgY29uc3QgZGFtYWdlSW5wdXQgPSBjb250cm9scy5jcmVhdGVFbCgnaW5wdXQnKTtcclxuICAgICAgICAgICAgZGFtYWdlSW5wdXQudHlwZSA9ICdudW1iZXInO1xyXG4gICAgICAgICAgICBkYW1hZ2VJbnB1dC5jbGFzc05hbWUgPSAnZGFtYWdlLWlucHV0JztcclxuICAgICAgICAgICAgZGFtYWdlSW5wdXQucGxhY2Vob2xkZXIgPSAnXHUwNDFBXHUwNDNFXHUwNDNCXHUwNDM4XHUwNDQ3XHUwNDM1XHUwNDQxXHUwNDQyXHUwNDMyXHUwNDNFJztcclxuICAgICAgICAgICAgY29uc3QgZGFtYWdlQnRuID0gY29udHJvbHMuY3JlYXRlRWwoJ2J1dHRvbicpO1xyXG4gICAgICAgICAgICBkYW1hZ2VCdG4uY2xhc3NOYW1lID0gJ2FjdGlvbi1idG4gZGFtYWdlLWJ0bic7XHJcbiAgICAgICAgICAgIGRhbWFnZUJ0bi5zZXRUZXh0KCdcdTA0MjNcdTA0NDBcdTA0M0VcdTA0M0QnKTtcclxuICAgICAgICAgICAgY29uc3QgaGVhbEJ0biA9IGNvbnRyb2xzLmNyZWF0ZUVsKCdidXR0b24nKTtcclxuICAgICAgICAgICAgaGVhbEJ0bi5jbGFzc05hbWUgPSAnYWN0aW9uLWJ0biBoZWFsLWJ0bic7XHJcbiAgICAgICAgICAgIGhlYWxCdG4uc2V0VGV4dCgnXHUwNDFCXHUwNDM1XHUwNDQ3XHUwNDM1XHUwNDNEXHUwNDM4XHUwNDM1Jyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRlbXBIcEJ0biA9IGNvbnRyb2xzLmNyZWF0ZUVsKCdidXR0b24nKTtcclxuICAgICAgICAgICAgdGVtcEhwQnRuLmNsYXNzTmFtZSA9ICdhY3Rpb24tYnRuIHRlbXAtaHAtYnRuJztcclxuICAgICAgICAgICAgdGVtcEhwQnRuLnNldFRleHQoJ1x1MDQxMlx1MDQ0MFx1MDQzNVx1MDQzQ1x1MDQzNVx1MDQzRFx1MDQzRFx1MDQzRVx1MDQzNSBcdTA0MjVcdTA0MUYnKTtcclxuICAgICAgICAgICAgLy8gRXZlbnQgbGlzdGVuZXJzXHJcbiAgICAgICAgICAgIGRhbWFnZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFtb3VudCA9IHBhcnNlSW50KGRhbWFnZUlucHV0LnZhbHVlKSB8fCAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFtb3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGx5RGFtYWdlKGNvbWJhdGFudC5pZCwgYW1vdW50KTtcclxuICAgICAgICAgICAgICAgICAgICBkYW1hZ2VJbnB1dC52YWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZUFuZFJlbmRlcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaGVhbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFtb3VudCA9IHBhcnNlSW50KGRhbWFnZUlucHV0LnZhbHVlKSB8fCAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFtb3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGx5SGVhbChjb21iYXRhbnQuaWQsIGFtb3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGFtYWdlSW5wdXQudmFsdWUgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNhdmVBbmRSZW5kZXIoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRlbXBIcEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFtb3VudCA9IHBhcnNlSW50KGRhbWFnZUlucHV0LnZhbHVlKSB8fCAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFtb3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGx5VGVtcEhwKGNvbWJhdGFudC5pZCwgYW1vdW50KTtcclxuICAgICAgICAgICAgICAgICAgICBkYW1hZ2VJbnB1dC52YWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZUFuZFJlbmRlcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzaG93QWRkQ29tYmF0YW50TW9kYWwoKTogdm9pZCB7XHJcbiAgICAgICAgbmV3IEFkZENvbWJhdGFudE1vZGFsKHRoaXMuYXBwLCBhc3luYyAoY29tYmF0YW50OiBDb21iYXRhbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jb21iYXRhbnRzLnB1c2goY29tYmF0YW50KTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlQW5kUmVuZGVyKCk7XHJcbiAgICAgICAgfSkub3BlbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5RGFtYWdlKGNvbWJhdGFudElkOiBzdHJpbmcsIGFtb3VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgY29tYmF0YW50ID0gdGhpcy5jb21iYXRhbnRzLmZpbmQoYyA9PiBjLmlkID09PSBjb21iYXRhbnRJZCk7XHJcbiAgICAgICAgaWYgKCFjb21iYXRhbnQpIHJldHVybjtcclxuICAgICAgICBpZiAoY29tYmF0YW50LnRlbXBIcCA+IDApIHtcclxuICAgICAgICAgICAgaWYgKGNvbWJhdGFudC50ZW1wSHAgPj0gYW1vdW50KSB7XHJcbiAgICAgICAgICAgICAgICBjb21iYXRhbnQudGVtcEhwIC09IGFtb3VudDtcclxuICAgICAgICAgICAgICAgIGFtb3VudCA9IDA7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhbW91bnQgLT0gY29tYmF0YW50LnRlbXBIcDtcclxuICAgICAgICAgICAgICAgIGNvbWJhdGFudC50ZW1wSHAgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbWJhdGFudC5jdXJyZW50SHAgPSBNYXRoLm1heCgwLCBjb21iYXRhbnQuY3VycmVudEhwIC0gYW1vdW50KTtcclxuICAgIH1cclxuXHJcbiAgICBhcHBseUhlYWwoY29tYmF0YW50SWQ6IHN0cmluZywgYW1vdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBjb21iYXRhbnQgPSB0aGlzLmNvbWJhdGFudHMuZmluZChjID0+IGMuaWQgPT09IGNvbWJhdGFudElkKTtcclxuICAgICAgICBpZiAoIWNvbWJhdGFudCkgcmV0dXJuO1xyXG4gICAgICAgIGNvbWJhdGFudC5jdXJyZW50SHAgPSBNYXRoLm1pbihjb21iYXRhbnQubWF4SHAsIGNvbWJhdGFudC5jdXJyZW50SHAgKyBhbW91bnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5VGVtcEhwKGNvbWJhdGFudElkOiBzdHJpbmcsIGFtb3VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgY29tYmF0YW50ID0gdGhpcy5jb21iYXRhbnRzLmZpbmQoYyA9PiBjLmlkID09PSBjb21iYXRhbnRJZCk7XHJcbiAgICAgICAgaWYgKCFjb21iYXRhbnQpIHJldHVybjtcclxuICAgICAgICBjb21iYXRhbnQudGVtcEhwID0gYW1vdW50O1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBBZGRDb21iYXRhbnRNb2RhbCBleHRlbmRzIE1vZGFsIHtcclxuICAgIG9uU3VibWl0OiAoY29tYmF0YW50OiBDb21iYXRhbnQpID0+IHZvaWQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIG9uU3VibWl0OiAoY29tYmF0YW50OiBDb21iYXRhbnQpID0+IHZvaWQpIHtcclxuICAgICAgICBzdXBlcihhcHApO1xyXG4gICAgICAgIHRoaXMub25TdWJtaXQgPSBvblN1Ym1pdDtcclxuICAgIH1cclxuXHJcbiAgICBvbk9wZW4oKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XHJcbiAgICAgICAgY29udGVudEVsLmVtcHR5KCk7XHJcbiAgICAgICAgY29udGVudEVsLmNyZWF0ZUVsKCdoMicpLnNldFRleHQoJ1x1MDQxNFx1MDQzRVx1MDQzMVx1MDQzMFx1MDQzMlx1MDQzOFx1MDQ0Mlx1MDQ0QyBcdTA0NDNcdTA0NDdcdTA0MzBcdTA0NDFcdTA0NDJcdTA0M0RcdTA0MzhcdTA0M0FcdTA0MzAnKTtcclxuICAgICAgICBsZXQgbmFtZSA9ICcnLCBpbml0aWF0aXZlID0gJycsIG1heEhwID0gJyc7XHJcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGVudEVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZSgnXHUwNDE4XHUwNDNDXHUwNDRGJylcclxuICAgICAgICAgICAgLmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcbiAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoJ1x1MDQxMlx1MDQzMlx1MDQzNVx1MDQzNFx1MDQzOFx1MDQ0Mlx1MDQzNSBcdTA0MzhcdTA0M0NcdTA0NEYnKVxyXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKHZhbCA9PiB7IG5hbWUgPSB2YWw7IH0pKTtcclxuICAgICAgICBuZXcgU2V0dGluZyhjb250ZW50RWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKCdcdTA0MThcdTA0M0RcdTA0MzhcdTA0NDZcdTA0MzhcdTA0MzBcdTA0NDJcdTA0MzhcdTA0MzJcdTA0MzAnKVxyXG4gICAgICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcignXHUwNDEyXHUwNDMyXHUwNDM1XHUwNDM0XHUwNDM4XHUwNDQyXHUwNDM1IFx1MDQzOFx1MDQzRFx1MDQzOFx1MDQ0Nlx1MDQzOFx1MDQzMFx1MDQ0Mlx1MDQzOFx1MDQzMlx1MDQ0MycpXHJcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UodmFsID0+IHsgaW5pdGlhdGl2ZSA9IHZhbDsgfSkpO1xyXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRlbnRFbClcclxuICAgICAgICAgICAgLnNldE5hbWUoJ1x1MDQxQ1x1MDQzMFx1MDQzQVx1MDQ0MVx1MDQzOFx1MDQzQ1x1MDQzMFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQzRVx1MDQzNSBcdTA0MjVcdTA0MUYnKVxyXG4gICAgICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcignXHUwNDEyXHUwNDMyXHUwNDM1XHUwNDM0XHUwNDM4XHUwNDQyXHUwNDM1IFx1MDQzQ1x1MDQzMFx1MDQzQVx1MDQ0MVx1MDQzOFx1MDQzQ1x1MDQzMFx1MDQzQlx1MDQ0Q1x1MDQzRFx1MDQzRVx1MDQzNSBcdTA0MjVcdTA0MUYnKVxyXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKHZhbCA9PiB7IG1heEhwID0gdmFsOyB9KSk7XHJcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGVudEVsKVxyXG4gICAgICAgICAgICAuYWRkQnV0dG9uKGJ0biA9PiBidG5cclxuICAgICAgICAgICAgICAgIC5zZXRCdXR0b25UZXh0KCdcdTA0MTRcdTA0M0VcdTA0MzFcdTA0MzBcdTA0MzJcdTA0MzhcdTA0NDJcdTA0NEMnKVxyXG4gICAgICAgICAgICAgICAgLm9uQ2xpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBuYW1lLnRyaW0oKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpID0gcGFyc2VJbnQoaW5pdGlhdGl2ZSkgfHwgMDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtID0gcGFyc2VJbnQobWF4SHApIHx8IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG4gJiYgbSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblN1Ym1pdCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYXRpdmU6IGksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhIcDogbSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRIcDogbSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBIcDogMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkNsb3NlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuY29udGVudEVsLmVtcHR5KCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEluaXRpYXRpdmVUcmFja2VyUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcclxuICAgIGFzeW5jIG9ubG9hZCgpIHtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyVmlldyhcclxuICAgICAgICAgICAgVklFV19UWVBFLFxyXG4gICAgICAgICAgICAobGVhZikgPT4gbmV3IEluaXRpYXRpdmVUcmFja2VyVmlldyhsZWFmLCB0aGlzKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5hZGRSaWJib25JY29uKCdwbHVzJywgJ1x1MDQxRVx1MDQ0Mlx1MDQzQVx1MDQ0MFx1MDQ0Qlx1MDQ0Mlx1MDQ0QyBcdTA0NDJcdTA0NDBcdTA0MzVcdTA0M0FcdTA0MzVcdTA0NDAgXHUwNDM4XHUwNDNEXHUwNDM4XHUwNDQ2XHUwNDM4XHUwNDMwXHUwNDQyXHUwNDM4XHUwNDMyXHUwNDRCJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmFjdGl2YXRlVmlldygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGFjdGl2YXRlVmlldygpIHtcclxuICAgICAgICBsZXQgbGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoVklFV19UWVBFKVswXTtcclxuICAgICAgICBpZiAoIWxlYWYpIHtcclxuICAgICAgICAgICAgY29uc3QgbmV3TGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRSaWdodExlYWYoZmFsc2UpO1xyXG4gICAgICAgICAgICBpZiAobmV3TGVhZikge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbmV3TGVhZi5zZXRWaWV3U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFZJRVdfVFlQRSxcclxuICAgICAgICAgICAgICAgICAgICBhY3RpdmU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5yZXZlYWxMZWFmKG5ld0xlYWYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLnJldmVhbExlYWYobGVhZik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHNhdmVDb21iYXRhbnRzKGNvbWJhdGFudHM6IENvbWJhdGFudFtdKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlRGF0YShjb21iYXRhbnRzKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBsb2FkQ29tYmF0YW50cygpOiBQcm9taXNlPENvbWJhdGFudFtdPiB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMubG9hZERhdGEoKTtcclxuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShkYXRhKSA/IGRhdGEgOiBbXTtcclxuICAgIH1cclxufSAiXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHNCQUFxRTtBQVdyRSxJQUFNLFlBQVk7QUFFWCwwQ0FBb0MseUJBQVM7QUFBQSxFQUloRCxZQUFZLE1BQXFCLFFBQWlDO0FBQzlELFVBQU07QUFKVixzQkFBMEI7QUFLdEIsU0FBSyxTQUFTO0FBQUE7QUFBQSxFQUdsQixjQUFzQjtBQUNsQixXQUFPO0FBQUE7QUFBQSxFQUdYLGlCQUF5QjtBQUNyQixXQUFPO0FBQUE7QUFBQSxRQUdMLFNBQXdCO0FBQzFCLFNBQUssYUFBYSxNQUFNLEtBQUssT0FBTztBQUNwQyxVQUFNLFlBQVksS0FBSztBQUN2QixjQUFVO0FBQ1YsY0FBVSxTQUFTO0FBQ25CLGNBQVUsU0FBUztBQUNuQixTQUFLLGNBQWM7QUFBQTtBQUFBLFFBR2pCLGdCQUFnQjtBQUNsQixVQUFNLEtBQUssT0FBTyxlQUFlLEtBQUs7QUFDdEMsVUFBTSxPQUFPLEtBQUssWUFBWSxjQUFjO0FBQzVDLFFBQUksZ0JBQWdCLGFBQWE7QUFDN0IsV0FBSyxpQkFBaUI7QUFBQTtBQUFBO0FBQUEsRUFJOUIsY0FBYyxXQUE4QjtBQUV4QyxVQUFNLFNBQVMsVUFBVSxVQUFVO0FBQ25DLFdBQU8sTUFBTSxpQkFBaUI7QUFDOUIsVUFBTSxZQUFZLE9BQU8sU0FBUztBQUNsQyxjQUFVLFNBQVM7QUFDbkIsY0FBVSxZQUFZO0FBQ3RCLGNBQVUsUUFBUTtBQUNsQixjQUFVLGlCQUFpQixTQUFTLE1BQU0sS0FBSztBQUcvQyxVQUFNLE9BQU8sVUFBVSxV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
