/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __markAsModule = (target) => __defProp(target, "__esModule", { value: true });
var __export = (target, all) => {
  __markAsModule(target);
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __reExport = (target, module2, desc) => {
  if (module2 && typeof module2 === "object" || typeof module2 === "function") {
    for (let key of __getOwnPropNames(module2))
      if (!__hasOwnProp.call(target, key) && key !== "default")
        __defProp(target, key, { get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable });
  }
  return target;
};
var __toModule = (module2) => {
  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, "default", module2 && module2.__esModule && "default" in module2 ? { get: () => module2.default, enumerable: true } : { value: module2, enumerable: true })), module2);
};

// main.ts
__export(exports, {
  InitiativeTrackerView: () => InitiativeTrackerView,
  default: () => InitiativeTrackerPlugin
});
var import_obsidian = __toModule(require("obsidian"));
var VIEW_TYPE = "initiative-tracker-view";
var InitiativeTrackerView = class extends import_obsidian.ItemView {
  constructor(leaf, plugin) {
    super(leaf);
    this.combatants = [];
    this.plugin = plugin;
  }
  getViewType() {
    return VIEW_TYPE;
  }
  getDisplayText() {
    return "\u0422\u0440\u0435\u043A\u0435\u0440 \u0418\u043D\u0438\u0446\u0438\u0430\u0442\u0438\u0432\u044B \u0438 \u0425\u041F";
  }
  async onOpen() {
    this.combatants = await this.plugin.loadCombatants();
    const container = this.containerEl;
    container.empty();
    container.addClass("initiative-tracker");
    container.addClass("initiative-tracker-scroll");
    this.renderTracker(container);
  }
  async saveAndRender() {
    await this.plugin.saveCombatants(this.combatants);
    const list = this.containerEl.querySelector(".combatant-list");
    if (list instanceof HTMLElement) {
      this.renderCombatants(list);
    }
  }
  renderTracker(container) {
    const header = container.createDiv("initiative-tracker-header");
    header.style.justifyContent = "center";
    const addButton = header.createEl("button");
    addButton.addClass("add-combatant-btn");
    addButton.innerHTML = '<span class="plus-icon">+</span>';
    addButton.title = "\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0443\u0447\u0430\u0441\u0442\u043D\u0438\u043A\u0430";
    addButton.addEventListener("click", () => this.showAddCombatantModal());
    const list = container.createDiv("combatant-list");
    this.renderCombatants(list);
  }
  renderCombatants(container) {
    container.empty();
    const sortedCombatants = [...this.combatants].sort((a, b) => b.initiative - a.initiative);
    sortedCombatants.forEach((combatant) => {
      const item = container.createDiv("combatant-item");
      const header = item.createDiv("combatant-header");
      const nameDiv = header.createDiv("combatant-name");
      nameDiv.setText(combatant.name);
      const initiativeDiv = header.createDiv("combatant-initiative");
      initiativeDiv.setText(`\u0418\u043D\u0438\u0446\u0438\u0430\u0442\u0438\u0432\u0430: ${combatant.initiative}`);
      const removeBtn = header.createEl("button");
      removeBtn.className = "remove-combatant-btn";
      removeBtn.innerHTML = '<span class="remove-icon">&times;</span>';
      removeBtn.title = "\u0423\u0434\u0430\u043B\u0438\u0442\u044C";
      removeBtn.addEventListener("click", async () => {
        this.combatants = this.combatants.filter((c) => c.id !== combatant.id);
        await this.saveAndRender();
      });
      const hpBarContainer = item.createDiv("hp-bar-container");
      hpBarContainer.style.position = "relative";
      const tempHpBar = hpBarContainer.createDiv("temp-hp-bar");
      const hpBar = hpBarContainer.createDiv("hp-bar");
      const hpPercentage = combatant.currentHp / combatant.maxHp * 100;
      const tempHpPercentage = combatant.tempHp / combatant.maxHp * 100;
      hpBar.style.width = `${Math.max(0, Math.min(100, hpPercentage))}%`;
      tempHpBar.style.width = `${Math.max(0, Math.min(100, tempHpPercentage))}%`;
      if (combatant.tempHp >= combatant.maxHp) {
        tempHpBar.style.borderRadius = "8px";
      } else {
        tempHpBar.style.borderRadius = "8px 0 0 8px";
      }
      item.createDiv("hp-text").setText(`\u0425\u041F: ${combatant.currentHp}/${combatant.maxHp}${combatant.tempHp > 0 ? ` + ${combatant.tempHp} \u0432\u0440\u0435\u043C.` : ""}`);
      const controls = item.createDiv("hp-controls");
      const damageInput = controls.createEl("input");
      damageInput.type = "number";
      damageInput.className = "damage-input";
      damageInput.placeholder = "\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E";
      const damageBtn = controls.createEl("button");
      damageBtn.className = "action-btn damage-btn";
      damageBtn.setText("\u0423\u0440\u043E\u043D");
      const healBtn = controls.createEl("button");
      healBtn.className = "action-btn heal-btn";
      healBtn.setText("\u041B\u0435\u0447\u0435\u043D\u0438\u0435");
      const tempHpBtn = controls.createEl("button");
      tempHpBtn.className = "action-btn temp-hp-btn";
      tempHpBtn.setText("\u0412\u0440\u0435\u043C\u0435\u043D\u043D\u043E\u0435 \u0425\u041F");
      damageBtn.addEventListener("click", async () => {
        const amount = parseInt(damageInput.value) || 0;
        if (amount > 0) {
          this.applyDamage(combatant.id, amount);
          damageInput.value = "";
          await this.saveAndRender();
        }
      });
      healBtn.addEventListener("click", async () => {
        const amount = parseInt(damageInput.value) || 0;
        if (amount > 0) {
          this.applyHeal(combatant.id, amount);
          damageInput.value = "";
          await this.saveAndRender();
        }
      });
      tempHpBtn.addEventListener("click", async () => {
        const amount = parseInt(damageInput.value) || 0;
        if (amount > 0) {
          this.applyTempHp(combatant.id, amount);
          damageInput.value = "";
          await this.saveAndRender();
        }
      });
    });
  }
  showAddCombatantModal() {
    new AddCombatantModal(this.app, async (combatant) => {
      this.combatants.push(combatant);
      await this.saveAndRender();
    }).open();
  }
  applyDamage(combatantId, amount) {
    const combatant = this.combatants.find((c) => c.id === combatantId);
    if (!combatant)
      return;
    if (combatant.tempHp > 0) {
      if (combatant.tempHp >= amount) {
        combatant.tempHp -= amount;
        amount = 0;
      } else {
        amount -= combatant.tempHp;
        combatant.tempHp = 0;
      }
    }
    combatant.currentHp = Math.max(0, combatant.currentHp - amount);
  }
  applyHeal(combatantId, amount) {
    const combatant = this.combatants.find((c) => c.id === combatantId);
    if (!combatant)
      return;
    combatant.currentHp = Math.min(combatant.maxHp, combatant.currentHp + amount);
  }
  applyTempHp(combatantId, amount) {
    const combatant = this.combatants.find((c) => c.id === combatantId);
    if (!combatant)
      return;
    combatant.tempHp = amount;
  }
};
var AddCombatantModal = class extends import_obsidian.Modal {
  constructor(app, onSubmit) {
    super(app);
    this.onSubmit = onSubmit;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2").setText("\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0443\u0447\u0430\u0441\u0442\u043D\u0438\u043A\u0430");
    let name = "", initiative = "", maxHp = "";
    new import_obsidian.Setting(contentEl).setName("\u0418\u043C\u044F").addText((text) => text.setPlaceholder("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043C\u044F").onChange((val) => {
      name = val;
    }));
    new import_obsidian.Setting(contentEl).setName("\u0418\u043D\u0438\u0446\u0438\u0430\u0442\u0438\u0432\u0430").addText((text) => text.setPlaceholder("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043D\u0438\u0446\u0438\u0430\u0442\u0438\u0432\u0443").onChange((val) => {
      initiative = val;
    }));
    new import_obsidian.Setting(contentEl).setName("\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0435 \u0425\u041F").addText((text) => text.setPlaceholder("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0435 \u0425\u041F").onChange((val) => {
      maxHp = val;
    }));
    new import_obsidian.Setting(contentEl).addButton((btn) => btn.setButtonText("\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C").onClick(() => {
      const n = name.trim();
      const i = parseInt(initiative) || 0;
      const m = parseInt(maxHp) || 0;
      if (n && m > 0) {
        this.onSubmit({
          id: Date.now().toString(),
          name: n,
          initiative: i,
          maxHp: m,
          currentHp: m,
          tempHp: 0
        });
        this.close();
      }
    }));
  }
  onClose() {
    this.contentEl.empty();
  }
};
var InitiativeTrackerPlugin = class extends import_obsidian.Plugin {
  async onload() {
    this.registerView(VIEW_TYPE, (leaf) => new InitiativeTrackerView(leaf, this));
    this.addRibbonIcon("plus", "\u041E\u0442\u043A\u0440\u044B\u0442\u044C \u0442\u0440\u0435\u043A\u0435\u0440 \u0438\u043D\u0438\u0446\u0438\u0430\u0442\u0438\u0432\u044B", () => {
      this.activateView();
    });
  }
  async activateView() {
    let leaf = this.app.workspace.getLeavesOfType(VIEW_TYPE)[0];
    if (!leaf) {
      const newLeaf = this.app.workspace.getRightLeaf(false);
      if (newLeaf) {
        await newLeaf.setViewState({
          type: VIEW_TYPE,
          active: true
        });
        this.app.workspace.revealLeaf(newLeaf);
      }
    } else {
      this.app.workspace.revealLeaf(leaf);
    }
  }
  async saveCombatants(combatants) {
    await this.saveData(combatants);
  }
  async loadCombatants() {
    const data = await this.loadData();
    return Array.isArray(data) ? data : [];
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBJdGVtVmlldywgV29ya3NwYWNlTGVhZiwgTW9kYWwsIFNldHRpbmcsIFBsdWdpbiB9IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbmludGVyZmFjZSBDb21iYXRhbnQge1xyXG4gICAgaWQ6IHN0cmluZztcclxuICAgIG5hbWU6IHN0cmluZztcclxuICAgIGluaXRpYXRpdmU6IG51bWJlcjtcclxuICAgIG1heEhwOiBudW1iZXI7XHJcbiAgICBjdXJyZW50SHA6IG51bWJlcjtcclxuICAgIHRlbXBIcDogbnVtYmVyO1xyXG59XHJcblxyXG5jb25zdCBWSUVXX1RZUEUgPSAnaW5pdGlhdGl2ZS10cmFja2VyLXZpZXcnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEluaXRpYXRpdmVUcmFja2VyVmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcclxuICAgIGNvbWJhdGFudHM6IENvbWJhdGFudFtdID0gW107XHJcbiAgICBwbHVnaW46IEluaXRpYXRpdmVUcmFja2VyUGx1Z2luO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGxlYWY6IFdvcmtzcGFjZUxlYWYsIHBsdWdpbjogSW5pdGlhdGl2ZVRyYWNrZXJQbHVnaW4pIHtcclxuICAgICAgICBzdXBlcihsZWFmKTtcclxuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuICAgIH1cclxuXHJcbiAgICBnZXRWaWV3VHlwZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBWSUVXX1RZUEU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGlzcGxheVRleHQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ1x1MDQyMlx1MDQ0MFx1MDQzNVx1MDQzQVx1MDQzNVx1MDQ0MCBcdTA0MThcdTA0M0RcdTA0MzhcdTA0NDZcdTA0MzhcdTA0MzBcdTA0NDJcdTA0MzhcdTA0MzJcdTA0NEIgXHUwNDM4IFx1MDQyNVx1MDQxRic7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgb25PcGVuKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHRoaXMuY29tYmF0YW50cyA9IGF3YWl0IHRoaXMucGx1Z2luLmxvYWRDb21iYXRhbnRzKCk7XHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXJFbDtcclxuICAgICAgICBjb250YWluZXIuZW1wdHkoKTtcclxuICAgICAgICBjb250YWluZXIuYWRkQ2xhc3MoJ2luaXRpYXRpdmUtdHJhY2tlcicpO1xyXG4gICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcygnaW5pdGlhdGl2ZS10cmFja2VyLXNjcm9sbCcpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyVHJhY2tlcihjb250YWluZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHNhdmVBbmRSZW5kZXIoKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZUNvbWJhdGFudHModGhpcy5jb21iYXRhbnRzKTtcclxuICAgICAgICBjb25zdCBsaXN0ID0gdGhpcy5jb250YWluZXJFbC5xdWVyeVNlbGVjdG9yKCcuY29tYmF0YW50LWxpc3QnKTtcclxuICAgICAgICBpZiAobGlzdCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQ29tYmF0YW50cyhsaXN0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyVHJhY2tlcihjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcbiAgICAgICAgLy8gSGVhZGVyIHdpdGggY2VudGVyZWQgcGx1cyBidXR0b25cclxuICAgICAgICBjb25zdCBoZWFkZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KCdpbml0aWF0aXZlLXRyYWNrZXItaGVhZGVyJyk7XHJcbiAgICAgICAgaGVhZGVyLnN0eWxlLmp1c3RpZnlDb250ZW50ID0gJ2NlbnRlcic7XHJcbiAgICAgICAgY29uc3QgYWRkQnV0dG9uID0gaGVhZGVyLmNyZWF0ZUVsKCdidXR0b24nKTtcclxuICAgICAgICBhZGRCdXR0b24uYWRkQ2xhc3MoJ2FkZC1jb21iYXRhbnQtYnRuJyk7XHJcbiAgICAgICAgYWRkQnV0dG9uLmlubmVySFRNTCA9ICc8c3BhbiBjbGFzcz1cInBsdXMtaWNvblwiPis8L3NwYW4+JztcclxuICAgICAgICBhZGRCdXR0b24udGl0bGUgPSAnXHUwNDE0XHUwNDNFXHUwNDMxXHUwNDMwXHUwNDMyXHUwNDM4XHUwNDQyXHUwNDRDIFx1MDQ0M1x1MDQ0N1x1MDQzMFx1MDQ0MVx1MDQ0Mlx1MDQzRFx1MDQzOFx1MDQzQVx1MDQzMCc7XHJcbiAgICAgICAgYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5zaG93QWRkQ29tYmF0YW50TW9kYWwoKSk7XHJcblxyXG4gICAgICAgIC8vIENvbWJhdGFudCBsaXN0XHJcbiAgICAgICAgY29uc3QgbGlzdCA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ2NvbWJhdGFudC1saXN0Jyk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJDb21iYXRhbnRzKGxpc3QpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlckNvbWJhdGFudHMoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnRhaW5lci5lbXB0eSgpO1xyXG4gICAgICAgIC8vIFNvcnQgY29tYmF0YW50cyBieSBpbml0aWF0aXZlXHJcbiAgICAgICAgY29uc3Qgc29ydGVkQ29tYmF0YW50cyA9IFsuLi50aGlzLmNvbWJhdGFudHNdLnNvcnQoKGEsIGIpID0+IGIuaW5pdGlhdGl2ZSAtIGEuaW5pdGlhdGl2ZSk7XHJcbiAgICAgICAgc29ydGVkQ29tYmF0YW50cy5mb3JFYWNoKGNvbWJhdGFudCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBjb250YWluZXIuY3JlYXRlRGl2KCdjb21iYXRhbnQtaXRlbScpO1xyXG4gICAgICAgICAgICAvLyBIZWFkZXIgd2l0aCBuYW1lLCBpbml0aWF0aXZlLCBhbmQgcmVtb3ZlIGJ1dHRvblxyXG4gICAgICAgICAgICBjb25zdCBoZWFkZXIgPSBpdGVtLmNyZWF0ZURpdignY29tYmF0YW50LWhlYWRlcicpO1xyXG4gICAgICAgICAgICBjb25zdCBuYW1lRGl2ID0gaGVhZGVyLmNyZWF0ZURpdignY29tYmF0YW50LW5hbWUnKTtcclxuICAgICAgICAgICAgbmFtZURpdi5zZXRUZXh0KGNvbWJhdGFudC5uYW1lKTtcclxuICAgICAgICAgICAgY29uc3QgaW5pdGlhdGl2ZURpdiA9IGhlYWRlci5jcmVhdGVEaXYoJ2NvbWJhdGFudC1pbml0aWF0aXZlJyk7XHJcbiAgICAgICAgICAgIGluaXRpYXRpdmVEaXYuc2V0VGV4dChgXHUwNDE4XHUwNDNEXHUwNDM4XHUwNDQ2XHUwNDM4XHUwNDMwXHUwNDQyXHUwNDM4XHUwNDMyXHUwNDMwOiAke2NvbWJhdGFudC5pbml0aWF0aXZlfWApO1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgYnV0dG9uXHJcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZUJ0biA9IGhlYWRlci5jcmVhdGVFbCgnYnV0dG9uJyk7XHJcbiAgICAgICAgICAgIHJlbW92ZUJ0bi5jbGFzc05hbWUgPSAncmVtb3ZlLWNvbWJhdGFudC1idG4nO1xyXG4gICAgICAgICAgICByZW1vdmVCdG4uaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwicmVtb3ZlLWljb25cIj4mdGltZXM7PC9zcGFuPic7XHJcbiAgICAgICAgICAgIHJlbW92ZUJ0bi50aXRsZSA9ICdcdTA0MjNcdTA0MzRcdTA0MzBcdTA0M0JcdTA0MzhcdTA0NDJcdTA0NEMnO1xyXG4gICAgICAgICAgICByZW1vdmVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbWJhdGFudHMgPSB0aGlzLmNvbWJhdGFudHMuZmlsdGVyKGMgPT4gYy5pZCAhPT0gY29tYmF0YW50LmlkKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZUFuZFJlbmRlcigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gSFAgQmFyXHJcbiAgICAgICAgICAgIGNvbnN0IGhwQmFyQ29udGFpbmVyID0gaXRlbS5jcmVhdGVEaXYoJ2hwLWJhci1jb250YWluZXInKTtcclxuICAgICAgICAgICAgaHBCYXJDb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xyXG4gICAgICAgICAgICBjb25zdCB0ZW1wSHBCYXIgPSBocEJhckNvbnRhaW5lci5jcmVhdGVEaXYoJ3RlbXAtaHAtYmFyJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGhwQmFyID0gaHBCYXJDb250YWluZXIuY3JlYXRlRGl2KCdocC1iYXInKTtcclxuICAgICAgICAgICAgY29uc3QgaHBQZXJjZW50YWdlID0gKGNvbWJhdGFudC5jdXJyZW50SHAgLyBjb21iYXRhbnQubWF4SHApICogMTAwO1xyXG4gICAgICAgICAgICBjb25zdCB0ZW1wSHBQZXJjZW50YWdlID0gKGNvbWJhdGFudC50ZW1wSHAgLyBjb21iYXRhbnQubWF4SHApICogMTAwO1xyXG4gICAgICAgICAgICBocEJhci5zdHlsZS53aWR0aCA9IGAke01hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgaHBQZXJjZW50YWdlKSl9JWA7XHJcbiAgICAgICAgICAgIHRlbXBIcEJhci5zdHlsZS53aWR0aCA9IGAke01hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgdGVtcEhwUGVyY2VudGFnZSkpfSVgO1xyXG4gICAgICAgICAgICBpZiAoY29tYmF0YW50LnRlbXBIcCA+PSBjb21iYXRhbnQubWF4SHApIHtcclxuICAgICAgICAgICAgICAgIHRlbXBIcEJhci5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnOHB4JztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRlbXBIcEJhci5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnOHB4IDAgMCA4cHgnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEhQIFRleHRcclxuICAgICAgICAgICAgaXRlbS5jcmVhdGVEaXYoJ2hwLXRleHQnKS5zZXRUZXh0KGBcdTA0MjVcdTA0MUY6ICR7Y29tYmF0YW50LmN1cnJlbnRIcH0vJHtjb21iYXRhbnQubWF4SHB9JHtjb21iYXRhbnQudGVtcEhwID4gMCA/IGAgKyAke2NvbWJhdGFudC50ZW1wSHB9IFx1MDQzMlx1MDQ0MFx1MDQzNVx1MDQzQy5gIDogJyd9YCk7XHJcbiAgICAgICAgICAgIC8vIENvbnRyb2xzXHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xzID0gaXRlbS5jcmVhdGVEaXYoJ2hwLWNvbnRyb2xzJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhbWFnZUlucHV0ID0gY29udHJvbHMuY3JlYXRlRWwoJ2lucHV0Jyk7XHJcbiAgICAgICAgICAgIGRhbWFnZUlucHV0LnR5cGUgPSAnbnVtYmVyJztcclxuICAgICAgICAgICAgZGFtYWdlSW5wdXQuY2xhc3NOYW1lID0gJ2RhbWFnZS1pbnB1dCc7XHJcbiAgICAgICAgICAgIGRhbWFnZUlucHV0LnBsYWNlaG9sZGVyID0gJ1x1MDQxQVx1MDQzRVx1MDQzQlx1MDQzOFx1MDQ0N1x1MDQzNVx1MDQ0MVx1MDQ0Mlx1MDQzMlx1MDQzRSc7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhbWFnZUJ0biA9IGNvbnRyb2xzLmNyZWF0ZUVsKCdidXR0b24nKTtcclxuICAgICAgICAgICAgZGFtYWdlQnRuLmNsYXNzTmFtZSA9ICdhY3Rpb24tYnRuIGRhbWFnZS1idG4nO1xyXG4gICAgICAgICAgICBkYW1hZ2VCdG4uc2V0VGV4dCgnXHUwNDIzXHUwNDQwXHUwNDNFXHUwNDNEJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGhlYWxCdG4gPSBjb250cm9scy5jcmVhdGVFbCgnYnV0dG9uJyk7XHJcbiAgICAgICAgICAgIGhlYWxCdG4uY2xhc3NOYW1lID0gJ2FjdGlvbi1idG4gaGVhbC1idG4nO1xyXG4gICAgICAgICAgICBoZWFsQnRuLnNldFRleHQoJ1x1MDQxQlx1MDQzNVx1MDQ0N1x1MDQzNVx1MDQzRFx1MDQzOFx1MDQzNScpO1xyXG4gICAgICAgICAgICBjb25zdCB0ZW1wSHBCdG4gPSBjb250cm9scy5jcmVhdGVFbCgnYnV0dG9uJyk7XHJcbiAgICAgICAgICAgIHRlbXBIcEJ0bi5jbGFzc05hbWUgPSAnYWN0aW9uLWJ0biB0ZW1wLWhwLWJ0bic7XHJcbiAgICAgICAgICAgIHRlbXBIcEJ0bi5zZXRUZXh0KCdcdTA0MTJcdTA0NDBcdTA0MzVcdTA0M0NcdTA0MzVcdTA0M0RcdTA0M0RcdTA0M0VcdTA0MzUgXHUwNDI1XHUwNDFGJyk7XHJcbiAgICAgICAgICAgIC8vIEV2ZW50IGxpc3RlbmVyc1xyXG4gICAgICAgICAgICBkYW1hZ2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhbW91bnQgPSBwYXJzZUludChkYW1hZ2VJbnB1dC52YWx1ZSkgfHwgMDtcclxuICAgICAgICAgICAgICAgIGlmIChhbW91bnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBseURhbWFnZShjb21iYXRhbnQuaWQsIGFtb3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGFtYWdlSW5wdXQudmFsdWUgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNhdmVBbmRSZW5kZXIoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGhlYWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhbW91bnQgPSBwYXJzZUludChkYW1hZ2VJbnB1dC52YWx1ZSkgfHwgMDtcclxuICAgICAgICAgICAgICAgIGlmIChhbW91bnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBseUhlYWwoY29tYmF0YW50LmlkLCBhbW91bnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhbWFnZUlucHV0LnZhbHVlID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlQW5kUmVuZGVyKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0ZW1wSHBCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhbW91bnQgPSBwYXJzZUludChkYW1hZ2VJbnB1dC52YWx1ZSkgfHwgMDtcclxuICAgICAgICAgICAgICAgIGlmIChhbW91bnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBseVRlbXBIcChjb21iYXRhbnQuaWQsIGFtb3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGFtYWdlSW5wdXQudmFsdWUgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNhdmVBbmRSZW5kZXIoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2hvd0FkZENvbWJhdGFudE1vZGFsKCk6IHZvaWQge1xyXG4gICAgICAgIG5ldyBBZGRDb21iYXRhbnRNb2RhbCh0aGlzLmFwcCwgYXN5bmMgKGNvbWJhdGFudDogQ29tYmF0YW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY29tYmF0YW50cy5wdXNoKGNvbWJhdGFudCk7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZUFuZFJlbmRlcigpO1xyXG4gICAgICAgIH0pLm9wZW4oKTtcclxuICAgIH1cclxuXHJcbiAgICBhcHBseURhbWFnZShjb21iYXRhbnRJZDogc3RyaW5nLCBhbW91bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGNvbWJhdGFudCA9IHRoaXMuY29tYmF0YW50cy5maW5kKGMgPT4gYy5pZCA9PT0gY29tYmF0YW50SWQpO1xyXG4gICAgICAgIGlmICghY29tYmF0YW50KSByZXR1cm47XHJcbiAgICAgICAgaWYgKGNvbWJhdGFudC50ZW1wSHAgPiAwKSB7XHJcbiAgICAgICAgICAgIGlmIChjb21iYXRhbnQudGVtcEhwID49IGFtb3VudCkge1xyXG4gICAgICAgICAgICAgICAgY29tYmF0YW50LnRlbXBIcCAtPSBhbW91bnQ7XHJcbiAgICAgICAgICAgICAgICBhbW91bnQgPSAwO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYW1vdW50IC09IGNvbWJhdGFudC50ZW1wSHA7XHJcbiAgICAgICAgICAgICAgICBjb21iYXRhbnQudGVtcEhwID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb21iYXRhbnQuY3VycmVudEhwID0gTWF0aC5tYXgoMCwgY29tYmF0YW50LmN1cnJlbnRIcCAtIGFtb3VudCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXBwbHlIZWFsKGNvbWJhdGFudElkOiBzdHJpbmcsIGFtb3VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgY29tYmF0YW50ID0gdGhpcy5jb21iYXRhbnRzLmZpbmQoYyA9PiBjLmlkID09PSBjb21iYXRhbnRJZCk7XHJcbiAgICAgICAgaWYgKCFjb21iYXRhbnQpIHJldHVybjtcclxuICAgICAgICBjb21iYXRhbnQuY3VycmVudEhwID0gTWF0aC5taW4oY29tYmF0YW50Lm1heEhwLCBjb21iYXRhbnQuY3VycmVudEhwICsgYW1vdW50KTtcclxuICAgIH1cclxuXHJcbiAgICBhcHBseVRlbXBIcChjb21iYXRhbnRJZDogc3RyaW5nLCBhbW91bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGNvbWJhdGFudCA9IHRoaXMuY29tYmF0YW50cy5maW5kKGMgPT4gYy5pZCA9PT0gY29tYmF0YW50SWQpO1xyXG4gICAgICAgIGlmICghY29tYmF0YW50KSByZXR1cm47XHJcbiAgICAgICAgY29tYmF0YW50LnRlbXBIcCA9IGFtb3VudDtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgQWRkQ29tYmF0YW50TW9kYWwgZXh0ZW5kcyBNb2RhbCB7XHJcbiAgICBvblN1Ym1pdDogKGNvbWJhdGFudDogQ29tYmF0YW50KSA9PiB2b2lkO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBvblN1Ym1pdDogKGNvbWJhdGFudDogQ29tYmF0YW50KSA9PiB2b2lkKSB7XHJcbiAgICAgICAgc3VwZXIoYXBwKTtcclxuICAgICAgICB0aGlzLm9uU3VibWl0ID0gb25TdWJtaXQ7XHJcbiAgICB9XHJcblxyXG4gICAgb25PcGVuKCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xyXG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xyXG4gICAgICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgnaDInKS5zZXRUZXh0KCdcdTA0MTRcdTA0M0VcdTA0MzFcdTA0MzBcdTA0MzJcdTA0MzhcdTA0NDJcdTA0NEMgXHUwNDQzXHUwNDQ3XHUwNDMwXHUwNDQxXHUwNDQyXHUwNDNEXHUwNDM4XHUwNDNBXHUwNDMwJyk7XHJcbiAgICAgICAgbGV0IG5hbWUgPSAnJywgaW5pdGlhdGl2ZSA9ICcnLCBtYXhIcCA9ICcnO1xyXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRlbnRFbClcclxuICAgICAgICAgICAgLnNldE5hbWUoJ1x1MDQxOFx1MDQzQ1x1MDQ0RicpXHJcbiAgICAgICAgICAgIC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG4gICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKCdcdTA0MTJcdTA0MzJcdTA0MzVcdTA0MzRcdTA0MzhcdTA0NDJcdTA0MzUgXHUwNDM4XHUwNDNDXHUwNDRGJylcclxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZSh2YWwgPT4geyBuYW1lID0gdmFsOyB9KSk7XHJcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGVudEVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZSgnXHUwNDE4XHUwNDNEXHUwNDM4XHUwNDQ2XHUwNDM4XHUwNDMwXHUwNDQyXHUwNDM4XHUwNDMyXHUwNDMwJylcclxuICAgICAgICAgICAgLmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcbiAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoJ1x1MDQxMlx1MDQzMlx1MDQzNVx1MDQzNFx1MDQzOFx1MDQ0Mlx1MDQzNSBcdTA0MzhcdTA0M0RcdTA0MzhcdTA0NDZcdTA0MzhcdTA0MzBcdTA0NDJcdTA0MzhcdTA0MzJcdTA0NDMnKVxyXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKHZhbCA9PiB7IGluaXRpYXRpdmUgPSB2YWw7IH0pKTtcclxuICAgICAgICBuZXcgU2V0dGluZyhjb250ZW50RWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKCdcdTA0MUNcdTA0MzBcdTA0M0FcdTA0NDFcdTA0MzhcdTA0M0NcdTA0MzBcdTA0M0JcdTA0NENcdTA0M0RcdTA0M0VcdTA0MzUgXHUwNDI1XHUwNDFGJylcclxuICAgICAgICAgICAgLmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcbiAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoJ1x1MDQxMlx1MDQzMlx1MDQzNVx1MDQzNFx1MDQzOFx1MDQ0Mlx1MDQzNSBcdTA0M0NcdTA0MzBcdTA0M0FcdTA0NDFcdTA0MzhcdTA0M0NcdTA0MzBcdTA0M0JcdTA0NENcdTA0M0RcdTA0M0VcdTA0MzUgXHUwNDI1XHUwNDFGJylcclxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZSh2YWwgPT4geyBtYXhIcCA9IHZhbDsgfSkpO1xyXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRlbnRFbClcclxuICAgICAgICAgICAgLmFkZEJ1dHRvbihidG4gPT4gYnRuXHJcbiAgICAgICAgICAgICAgICAuc2V0QnV0dG9uVGV4dCgnXHUwNDE0XHUwNDNFXHUwNDMxXHUwNDMwXHUwNDMyXHUwNDM4XHUwNDQyXHUwNDRDJylcclxuICAgICAgICAgICAgICAgIC5vbkNsaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuID0gbmFtZS50cmltKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaSA9IHBhcnNlSW50KGluaXRpYXRpdmUpIHx8IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbSA9IHBhcnNlSW50KG1heEhwKSB8fCAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuICYmIG0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25TdWJtaXQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWF0aXZlOiBpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4SHA6IG0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50SHA6IG0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wSHA6IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICB9XHJcblxyXG4gICAgb25DbG9zZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmNvbnRlbnRFbC5lbXB0eSgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbml0aWF0aXZlVHJhY2tlclBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XHJcbiAgICBhc3luYyBvbmxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5yZWdpc3RlclZpZXcoXHJcbiAgICAgICAgICAgIFZJRVdfVFlQRSxcclxuICAgICAgICAgICAgKGxlYWYpID0+IG5ldyBJbml0aWF0aXZlVHJhY2tlclZpZXcobGVhZiwgdGhpcylcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuYWRkUmliYm9uSWNvbigncGx1cycsICdcdTA0MUVcdTA0NDJcdTA0M0FcdTA0NDBcdTA0NEJcdTA0NDJcdTA0NEMgXHUwNDQyXHUwNDQwXHUwNDM1XHUwNDNBXHUwNDM1XHUwNDQwIFx1MDQzOFx1MDQzRFx1MDQzOFx1MDQ0Nlx1MDQzOFx1MDQzMFx1MDQ0Mlx1MDQzOFx1MDQzMlx1MDQ0QicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZVZpZXcoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBhY3RpdmF0ZVZpZXcoKSB7XHJcbiAgICAgICAgbGV0IGxlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFZJRVdfVFlQRSlbMF07XHJcbiAgICAgICAgaWYgKCFsZWFmKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0xlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0UmlnaHRMZWFmKGZhbHNlKTtcclxuICAgICAgICAgICAgaWYgKG5ld0xlYWYpIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IG5ld0xlYWYuc2V0Vmlld1N0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBWSUVXX1RZUEUsXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFwcC53b3Jrc3BhY2UucmV2ZWFsTGVhZihuZXdMZWFmKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5yZXZlYWxMZWFmKGxlYWYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBzYXZlQ29tYmF0YW50cyhjb21iYXRhbnRzOiBDb21iYXRhbnRbXSkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZURhdGEoY29tYmF0YW50cyk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgbG9hZENvbWJhdGFudHMoKTogUHJvbWlzZTxDb21iYXRhbnRbXT4ge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLmxvYWREYXRhKCk7XHJcbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoZGF0YSkgPyBkYXRhIDogW107XHJcbiAgICB9XHJcbn0gIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxzQkFBcUU7QUFXckUsSUFBTSxZQUFZO0FBRVgsMENBQW9DLHlCQUFTO0FBQUEsRUFJaEQsWUFBWSxNQUFxQixRQUFpQztBQUM5RCxVQUFNO0FBSlYsc0JBQTBCO0FBS3RCLFNBQUssU0FBUztBQUFBO0FBQUEsRUFHbEIsY0FBc0I7QUFDbEIsV0FBTztBQUFBO0FBQUEsRUFHWCxpQkFBeUI7QUFDckIsV0FBTztBQUFBO0FBQUEsUUFHTCxTQUF3QjtBQUMxQixTQUFLLGFBQWEsTUFBTSxLQUFLLE9BQU87QUFDcEMsVUFBTSxZQUFZLEtBQUs7QUFDdkIsY0FBVTtBQUNWLGNBQVUsU0FBUztBQUNuQixjQUFVLFNBQVM7QUFDbkIsU0FBSyxjQUFjO0FBQUE7QUFBQSxRQUdqQixnQkFBZ0I7QUFDbEIsVUFBTSxLQUFLLE9BQU8sZUFBZSxLQUFLO0FBQ3RDLFVBQU0sT0FBTyxLQUFLLFlBQVksY0FBYztBQUM1QyxRQUFJLGdCQUFnQixhQUFhO0FBQzdCLFdBQUssaUJBQWlCO0FBQUE7QUFBQTtBQUFBLEVBSTlCLGNBQWMsV0FBOEI7QUFFeEMsVUFBTSxTQUFTLFVBQVUsVUFBVTtBQUNuQyxXQUFPLE1BQU0saUJBQWlCO0FB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
