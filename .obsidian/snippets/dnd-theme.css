/* Общие переменные */
:root {
  --parchment: #fdf1dc;
  --red-dark: #58180d;
  --red-light: #c41e3a;
  --gold: #a4814b;
  --text-dark: #241f1c;
  --stat-header: #7b1f11;
  --stat-bg: #e7d5b8;
}

/* Базовые стили для обоих режимов */
.dnd,
.dnd.cm-editor {
  background-color: var(--parchment) !important;
  color: var(--text-dark) !important;
  font-family: "Nodesto Cyrillic", Georgia, serif !important;
  line-height: 1.6 !important;
  padding: 2rem !important;
  margin: 1rem 0 !important;
  border: 2px solid var(--gold) !important;
  border-radius: 8px !important;
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.4) !important;
  font-size: 20px !important;
  width: 100% !important;
  max-width: 100% !important;
}

/* Стили для режима редактирования - базовый текст */
.dnd .cm-line {
  font-family: "Nodesto Cyrillic", Georgia, serif !important;
  color: var(--text-dark) !important;
  font-size: 20px !important;
  line-height: 1.6 !important;
}

/* Заголовок файла для обоих режимов */
.view-header-title,
.inline-title {
  font-family: "Nodesto Cyrillic", Georgia, serif !important;
  color: var(--red-dark) !important;
  font-size: 2.4em !important;
  font-weight: bold !important;
  margin-bottom: 2rem !important;
  padding-bottom: 0.5rem !important;
  position: relative !important;
}

/* Заголовки для обоих режимов */
.dnd h1,
.dnd h2,
.dnd h3,
.dnd .cm-header-1,
.dnd .cm-header-2,
.dnd .cm-header-3 {
  color: var(--red-dark) !important;
  font-family: "Nodesto Cyrillic", Georgia, serif !important;
  text-align: left !important;
  margin: 0 0 1.5rem 0 !important;
  padding-bottom: 0.5rem !important;
  position: relative !important;
  font-weight: bold !important;
}

.dnd h1,
.dnd .cm-header-1 {
  font-size: 2em !important;
}

.dnd h2,
.dnd .cm-header-2 {
  font-size: 1.6em !important;
  margin-top: 2rem !important;
}

.dnd h3,
.dnd .cm-header-3 {
  font-size: 1.4em !important;
  margin-top: 1.5rem !important;
}

/* Подчеркивание заголовков */
.dnd h1::after,
.dnd h2::after,
.dnd h3::after,
.dnd .cm-header-1::after,
.dnd .cm-header-2::after,
.dnd .cm-header-3::after {
  content: "" !important;
  position: absolute !important;
  left: 0 !important;
  bottom: 0 !important;
  width: 100% !important;
  height: 5px !important;
  background: linear-gradient(
    to right,
    var(--red-dark) 0%,
    var(--red-dark) 30%,
    rgba(88, 24, 13, 0) 100%
  ) !important;
}

/* Таблицы для обоих режимов */
.dnd table {
  width: 100% !important;
  border-collapse: separate !important;
  border-spacing: 0 !important;
  margin: 1rem 0 !important;
  border: 2px solid var(--gold) !important;
  background-color: var(--parchment) !important;
}

.dnd thead tr {
  background-color: var(--stat-header) !important;
}

.dnd tbody tr {
  background-color: var(--stat-bg) !important;
}

.dnd th {
  color: var(--parchment) !important;
  padding: 0.5rem !important;
  font-family: "Nodesto Cyrillic", Georgia, serif !important;
  font-size: 1.2em !important;
  text-transform: uppercase !important;
  letter-spacing: 1px !important;
  text-align: center !important;
  border: 1px solid var(--gold) !important;
}

.dnd td {
  padding: 0.5rem !important;
  text-align: center !important;
  border: 1px solid var(--gold) !important;
  color: var(--text-dark) !important;
  font-weight: bold !important;
  font-size: 1.1em !important;
}

/* Жирный текст для обоих режимов */
.dnd strong,
.dnd .cm-strong {
  color: var(--red-dark) !important;
  font-weight: bold !important;
}

/* Навыки, чувства, языки для обоих режимов */
.dnd .skills,
.dnd .senses,
.dnd .languages,
.dnd .challenge,
.dnd .proficiency {
  color: var(--text-dark) !important;
  margin: 0.7rem 0 !important;
  line-height: 1.6 !important;
  font-size: 1.3em !important;
}

/* Маркеры для обоих режимов */
.dnd .skills::before,
.dnd .senses::before,
.dnd .languages::before,
.dnd .challenge::before,
.dnd .proficiency::before {
  content: "•" !important;
  color: var(--red-light) !important;
  margin-right: 0.5rem !important;
  font-weight: bold !important;
}

/* Ссылки для обоих режимов */
.dnd a,
.dnd .cm-link {
  color: var(--red-dark) !important;
  text-decoration: none !important;
  font-weight: bold !important;
  font-size: 1.2em !important;
}

.dnd a:hover {
  text-decoration: underline !important;
}

/* Теги для обоих режимов */
.dnd .tags {
  display: flex !important;
  flex-wrap: wrap !important;
  gap: 0.5rem !important;
  margin: 1rem 0 !important;
}

.dnd .tag {
  background-color: var(--stat-header) !important;
  color: var(--parchment) !important;
  padding: 0.2rem 0.8rem !important;
  border-radius: 3px !important;
  font-size: 1.1em !important;
  margin: 0.2rem !important;
  display: inline-block !important;
}

/* Frontmatter для обоих режимов */
.dnd .frontmatter-container,
.dnd .metadata-container,
.dnd .cm-hmd-frontmatter {
  color: var(--text-dark) !important;
  font-size: 1em !important;
  font-family: "Nodesto Cyrillic", Georgia, serif !important;
  background-color: var(--parchment) !important;
  border: none !important;
  padding: 1rem !important;
}

.dnd .frontmatter-container *,
.dnd .metadata-container *,
.dnd .cm-hmd-frontmatter * {
  color: var(--text-dark) !important;
  font-family: "Nodesto Cyrillic", Georgia, serif !important;
}

.dnd .frontmatter-container .metadata-property,
.dnd .metadata-container .metadata-property {
  font-size: 1em !important;
  margin: 0 !important;
  line-height: 1 !important;
}

/* Адаптивный дизайн */
@media (max-width: 768px) {
  .dnd,
  .dnd.cm-editor {
    padding: 1rem !important;
    margin: 0.5rem !important;
    font-size: 16px !important;
  }

  .dnd table {
    font-size: 1em !important;
  }

  .dnd h1,
  .dnd .cm-header-1 {
    font-size: 2.4em !important;
  }
}
